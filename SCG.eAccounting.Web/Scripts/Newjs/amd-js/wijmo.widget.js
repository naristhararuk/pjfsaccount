var wijmo;define(["./wijmo.wijutil","./wijmo.wijtouchutil","jquery","jquery-ui"],function(){var e=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};(function(t){var n=jQuery,r=function(){function e(){}return e.registerWidget=function(e,t,r,i){var s="wijmo."+e,o;typeof r=="function"&&(o=r,r=null);if(r===null||r===undefined)r=n.extend(!0,{},t),t=n.wijmo.widget;r.options=r.options||{},r.options.initSelector=r.options.initSelector||":jqmData(role='"+e+"')",r.initSelector=r.initSelector==null?r.options.initSelector:r.initSelector+r.options.initSelector,n.mobile&&r.options&&r.options.wijMobileCSS&&(r.options.wijCSS=r.options.wijCSS||{},n.extend(r.options.wijCSS,r.options.wijMobileCSS)),n.widget(s,t,r),o&&o.call()},e.addThemeToMobileCSS=function(t,r){n.each(r,function(i,s){typeof s=="string"?n.each(e.wijMobileThemePrefix,function(e,n){var o=new RegExp("\\b"+n);o.test(s)&&(r[i]=s+" "+n+"-"+t)}):e.addThemeToMobileCSS(t,s)})},e.autoMobilize=!0,e.wijCSS={widget:"ui-widget",overlay:"ui-widget-overlay",content:"ui-widget-content",header:"ui-widget-header",stateDisabled:"ui-state-disabled",stateFocus:"ui-state-focus",stateActive:"ui-state-active",stateDefault:"ui-state-default",stateHighlight:"ui-state-highlight",stateHover:"ui-state-hover",stateChecked:"ui-state-checked",stateError:"ui-state-error",getState:function(e){return e=e.charAt(0).toUpperCase()+e.substr(1),n.wijmo.wijCSS["state"+e]},icon:"ui-icon",iconCheck:"ui-icon-check",iconRadioOn:"ui-icon-radio-on",iconRadioOff:"ui-icon-radio-off",iconClose:"ui-icon-close",iconArrow4Diag:"ui-icon-arrow-4-diag",iconNewWin:"ui-icon-newwin",iconVGripSolid:"ui-icon-grip-solid-vertical",iconHGripSolid:"ui-icon-grip-solid-horizontal",iconPlay:"ui-icon-play",iconPause:"ui-icon-pause",iconStop:"ui-icon-stop",iconArrowUp:"ui-icon-triangle-1-n",iconArrowRight:"ui-icon-triangle-1-e",iconArrowDown:"ui-icon-triangle-1-s",iconArrowLeft:"ui-icon-triangle-1-w",iconArrowRightDown:"ui-icon-triangle-1-se",iconArrowThickDown:"ui-icon-arrowthick-1-s",iconArrowThickUp:"ui-icon-arrowthick-1-n",iconCaratUp:"ui-icon-carat-1-n",iconCaratRight:"ui-icon-carat-1-e",iconCaratDown:"ui-icon-carat-1-s",iconCaratLeft:"ui-icon-carat-1-w",iconClock:"ui-icon-clock",iconPencil:"ui-icon-pencil",iconSeekFirst:"ui-icon-seek-first",iconSeekEnd:"ui-icon-seek-end",iconSeekNext:"ui-icon-seek-next",iconSeekPrev:"ui-icon-seek-prev",iconPrint:"ui-icon-print",iconDisk:"ui-icon-disk",iconSeekStart:"ui-icon-seek-start",iconFullScreen:"ui-icon-newwin",iconContinousView:"ui-icon-carat-2-n-s",iconZoomIn:"ui-icon-zoomin",iconZoomOut:"ui-icon-zoomout",iconBookmark:"ui-icon-bookmark",iconSearch:"ui-icon-search",iconImage:"ui-icon-image",iconArrowReturn:"ui-icon-arrowreturnthick-1-w",iconHome:"ui-icon-home",inputSpinnerLeft:"ui-input-spinner-left",inputSpinnerRight:"ui-input-spinner-right",inputTriggerLeft:"ui-input-trigger-left",inputTriggerRight:"ui-input-trigger-right",inputSpinnerTriggerLeft:"ui-input-spinner-trigger-left",inputSpinnerTriggerRight:"ui-input-spinner-trigger-right",cornerAll:"ui-corner-all",cornerLeft:"ui-corner-left",cornerRight:"ui-corner-right",cornerBottom:"ui-corner-bottom",cornerBL:"ui-corner-bl",cornerBR:"ui-corner-br",cornerTop:"ui-corner-top",cornerTL:"ui-corner-tl",cornerTR:"ui-corner-tr",helperClearFix:"ui-helper-clearfix",helperReset:"ui-helper-reset",helperHidden:"ui-helper-hidden",priorityPrimary:"ui-priority-primary",prioritySecondary:"ui-priority-secondary",button:"ui-button",buttonText:"ui-button-text",buttonTextOnly:"ui-button-text-only",tabs:"ui-tabs",tabsTop:"ui-tabs-top",tabsBottom:"ui-tabs-bottom",tabsLeft:"ui-tabs-left",tabsRight:"ui-tabs-right",tabsLoading:"ui-tabs-loading",tabsActive:"ui-tabs-active",tabsPanel:"ui-tabs-panel",tabsNav:"ui-tabs-nav",tabsHide:"ui-tabs-hide",tabsCollapsible:"ui-tabs-collapsible",activeMenuitem:"ui-active-menuitem"},e.wijMobileCSS={content:"ui-content",header:"ui-header",overlay:"ui-overlay",stateDisabled:"ui-state-disabled",stateFocus:"ui-focus",stateActive:"ui-btn-active",stateDefault:"ui-btn ui-btn-a",icon:"ui-icon ui-btn-icon-notext",iconArrowUp:"ui-icon-carat-u",iconArrowRight:"ui-icon-carat-r",iconArrowDown:"ui-icon-carat-d",iconArrowLeft:"ui-icon-carat-l",iconArrowRightDown:"ui-icon-carat-d",iconSeekFirst:"ui-icon-carat-l",iconSeekEnd:"ui-icon-carat-r",iconSeekNext:"ui-icon-carat-r",iconSeekPrev:"ui-icon-carat-l",iconClose:"ui-icon-delete",iconStop:"ui-icon-grid",iconCheck:"ui-icon-check",iconArrowReturn:"ui-icon-back"},e.wijMobileThemePrefix=["ui-bar","ui-body","ui-overlay","ui-btn"],e}();n.wijmo=r;var i=function(){function e(){}return e.prototype.destroy=function(){},e.prototype._setOption=function(e,t){},e.prototype._create=function(){},e.prototype._init=function(){},e.prototype.widget=function(){return this.element},e}();t.JQueryUIWidget=i,i.prototype.options={wijCSS:n.wijmo.wijCSS},i.prototype.destroy=function(){n.Widget.prototype.destroy.apply(this,arguments)},i.prototype._setOption=function(e,t){n.Widget.prototype._setOption.apply(this,arguments)},i.prototype._create=function(){n.Widget.prototype._create.apply(this,arguments)},i.prototype._init=function(){n.Widget.prototype._init.apply(this,arguments)};var s=function(t){function n(){t.apply(this,arguments)}return e(n,t),n}(i);t.JQueryMobileWidget=s,n(window.document).trigger("wijmoinit");var o=function(t){function r(){t.apply(this,arguments),this._widgetCreated=!1}return e(r,t),r.prototype._baseWidget=function(){return this._isMobile?n.mobile.widget:n.Widget},r.prototype._createWidget=function(e,t){this._widgetCreated=!0,this._syncEventPrefix&&(this.widgetEventPrefix=this.widgetName),window.wijmoApplyWijTouchUtilEvents&&(n=window.wijmoApplyWijTouchUtilEvents(n)),this._baseWidget().prototype._createWidget.apply(this,arguments)},r.prototype._create=function(){this._baseWidget().prototype._create.apply(this,arguments),this._isDisabled()&&this._innerDisable()},r.prototype._init=function(){this._baseWidget().prototype._init.apply(this,arguments)},r.prototype.destroy=function(){this.element.unbind(".ui-disableSelection"),this._baseWidget().prototype.destroy.apply(this,arguments)},r.prototype._setOption=function(e,t){var n=this._isDisabled(),r;this._baseWidget().prototype._setOption.apply(this,arguments);if(e==="disabled"){r=this._isDisabled();if(n===r)return;r?this._innerDisable():this._innerEnable()}e==="disabled"&&t&&this._isMobile&&this.element.removeClass("ui-state-disabled").addClass(this.options.wijCSS.stateDisabled)},r.prototype._innerDisable=function(){this._toggleDisable()},r.prototype._innerEnable=function(){this._toggleDisable()},r.prototype._toggleDisable=function(){this.element.toggleClass("ui-state-disabled",!!this._isDisabled()).toggleClass(this.widgetFullName+"-disabled",!!this._isDisabled()).attr("aria-disabled",this._isDisabled())},r.prototype._isDisabled=function(){var e=this.options;return e.disabledState===!0||e.disabled===!0},r}(s);t.wijmoWidget=o,o.prototype._syncEventPrefix=!0,o.prototype._isMobile=!1;var u=function(){function e(){this.getState=function(e){return e=e.charAt(0).toUpperCase()+e.substr(1),this["state"+e]},this.widget="ui-widget",this.overlay="ui-widget-overlay",this.content="ui-widget-content",this.header="ui-widget-header",this.stateDisabled="ui-state-disabled",this.stateFocus="ui-state-focus",this.stateActive="ui-state-active",this.stateDefault="ui-state-default",this.stateHighlight="ui-state-highlight",this.stateHover="ui-state-hover",this.stateChecked="ui-state-checked",this.stateError="ui-state-error",this.icon="ui-icon",this.iconCheck="ui-icon-check",this.iconRadioOn="ui-icon-radio-on",this.iconRadioOff="ui-icon-radio-off",this.iconClose="ui-icon-close",this.iconArrow4Diag="ui-icon-arrow-4-diag",this.iconNewWin="ui-icon-newwin",this.iconVGripSolid="ui-icon-grip-solid-vertical",this.iconHGripSolid="ui-icon-grip-solid-horizontal",this.iconPlay="ui-icon-play",this.iconPause="ui-icon-pause",this.iconStop="ui-icon-stop",this.iconArrowUp="ui-icon-triangle-1-n",this.iconArrowRight="ui-icon-triangle-1-e",this.iconArrowDown="ui-icon-triangle-1-s",this.iconArrowLeft="ui-icon-triangle-1-w",this.iconArrowRightDown="ui-icon-triangle-1-se",this.iconArrowThickDown="ui-icon-arrowthick-1-s glyphicon glyphicon-arrow-down",this.iconArrowThickUp="ui-icon-arrowthick-1-n glyphicon glyphicon-arrow-up",this.iconCaratUp="ui-icon-carat-1-n",this.iconCaratRight="ui-icon-carat-1-e",this.iconCaratDown="ui-icon-carat-1-s",this.iconCaratLeft="ui-icon-carat-1-w",this.iconClock="ui-icon-clock glyphicon glyphicon-time",this.iconPencil="ui-icon-pencil glyphicon glyphicon-pencil",this.iconSeekFirst="ui-icon-seek-first",this.iconSeekEnd="ui-icon-seek-end",this.iconSeekNext="ui-icon-seek-next",this.iconSeekPrev="ui-icon-seek-prev",this.iconPrint="ui-icon-print",this.iconDisk="ui-icon-disk",this.iconSeekStart="ui-icon-seek-start",this.iconFullScreen="ui-icon-newwin",this.iconContinousView="ui-icon-carat-2-n-s",this.iconZoomIn="ui-icon-zoomin",this.iconZoomOut="ui-icon-zoomout",this.iconBookmark="ui-icon-bookmark",this.iconSearch="ui-icon-search",this.iconImage="ui-icon-image",this.inputSpinnerLeft="ui-input-spinner-left",this.inputSpinnerRight="ui-input-spinner-right",this.inputTriggerLeft="ui-input-trigger-left",this.inputTriggerRight="ui-input-trigger-right",this.inputSpinnerTriggerLeft="ui-input-spinner-trigger-left",this.inputSpinnerTriggerRight="ui-input-spinner-trigger-right",this.cornerAll="ui-corner-all",this.cornerLeft="ui-corner-left",this.cornerRight="ui-corner-right",this.cornerBottom="ui-corner-bottom",this.cornerBL="ui-corner-bl",this.cornerBR="ui-corner-br",this.cornerTop="ui-corner-top",this.cornerTL="ui-corner-tl",this.cornerTR="ui-corner-tr",this.helperClearFix="ui-helper-clearfix",this.helperReset="ui-helper-reset",this.helperHidden="ui-helper-hidden",this.priorityPrimary="ui-priority-primary",this.prioritySecondary="ui-priority-secondary",this.button="ui-button",this.buttonText="ui-button-text",this.buttonTextOnly="ui-button-text-only",this.tabs="ui-tabs",this.tabsTop="ui-tabs-top",this.tabsBottom="ui-tabs-bottom",this.tabsLeft="ui-tabs-left",this.tabsRight="ui-tabs-right",this.tabsLoading="ui-tabs-loading",this.tabsActive="ui-tabs-active",this.tabsPanel="ui-tabs-panel",this.tabsNav="ui-tabs-nav",this.tabsHide="ui-tabs-hide",this.tabsCollapsible="ui-tabs-collapsible",this.activeMenuitem="ui-active-menuitem"}return e}();t.wijmo_css=u,n.mobile!=null&&n.wijmo.autoMobilize===!0?(n.extend(!0,o.prototype.options.wijCSS,n.wijmo.wijMobileCSS),o.prototype._isMobile=!0,o.prototype.options=n.extend(!0,{},o.prototype.options,o.prototype._baseWidget().prototype.options),o.prototype._getCreateOptions=function(){var e=this.element,t,r=r=function(e){if(typeof e=="undefined")return{};if(e===null)return{};var t=/(?:(?:\{[\n\r\t\s]*(.+?)\s*\:[\n\r\t\s]*)|(?:,[\n\r\t\s]*(.+?)\s*\:[\n\r\t\s]*))('(.*?[^\\])')?/gi,r=/\[.*?(?=[\]\[])|[\]\[].*?(?=[\]])/gi,i=e.replace(t,function(e,t,n,r){var i,s=/[\n\r\t\s]*['"]?([^\{,\s]+?)['"]?\s*:[\n\r\t\s]*/i,o=/\:[\n\r\t\s]*(?:'(.*)')?/i;return i=e.replace(s,'"$1":'),r?i.replace(o,':"$1"'):i}).replace(r,function(e){var t=/'(.*?[^\\])'/g;return e.replace(t,'"$1"')});return n.parseJSON(i)},i=r(e.attr("data-"+n.mobile.nsNormalize("options"))),s;return t=n.mobile.widget.prototype._getCreateOptions.apply(this,arguments),s=n.extend(!0,{},this.options.wijCSS),this.theme=this.options.theme!==undefined?this.options.theme:this.element.jqmData("theme"),this.theme&&n.wijmo.addThemeToMobileCSS(this.theme,s),n.extend(t,{wijCSS:s},i)},n.widget("wijmo.widget",n.mobile.widget,o.prototype),n(document).on("pageshow",function(e,t){if(e.target==null)return;var r=n(e.target);r.wijTriggerVisibility&&r.wijTriggerVisibility()})):(o.prototype.options=n.extend(!0,{},o.prototype.options,o.prototype._baseWidget().prototype.options),n.widget("wijmo.widget",o.prototype))})(wijmo||(wijmo={}))});