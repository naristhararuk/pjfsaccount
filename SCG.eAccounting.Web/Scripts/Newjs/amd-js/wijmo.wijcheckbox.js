var wijmo;define(["./wijmo.widget"],function(){var e=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};(function(t){(function(n){var r=jQuery,i="wijcheckbox",s="wijcheckbox",o=0,u=function(t){function n(){t.apply(this,arguments)}return e(n,t),n.prototype._init=function(){var e=this,t=e.element;if(!t.is(":checkbox"))return;t.attr("id")||(t.attr("id",s+o),o+=1),t.is(":disabled")&&e._setOption("disabled",!0),e._decorateCheckbox(),e._initCheckState(),e.refresh(),e._bindEvents()},n.prototype._bindEvents=function(){var e=this,t=e.options,n=e.element;n.bind("click.wijcheckbox",function(t){if(e._isDisabled())return;e.refresh(t),e._trigger("changed",null,{checked:e.options.checked})}).bind("focus.wijcheckbox",function(){if(e._isDisabled())return;e.boxElement&&e.boxElement.addClass(t.wijCSS.stateFocus)}).bind("blur.wijcheckbox",function(){if(e._isDisabled())return;e.boxElement&&e.boxElement.removeClass(t.wijCSS.stateFocus).not("."+t.wijCSS.stateHover)}).bind("keydown.wijcheckbox",function(t){if(t.keyCode===32){if(e._isDisabled())return;e.refresh(null)}}),e.boxElement&&e.boxElement.bind("mouseover.wijcheckbox",function(){n.mouseover()}).bind("mouseout.wijcheckbox",function(){n.mouseout()}).bind("click.wijcheckbox",function(t){if(e._isDisabled())return;n.get(0).checked=!n.get(0).checked,n.change(),n.focus(),e.refresh(t),e._trigger("changed",null,{checked:e.options.checked})}),e.checkboxElement&&e.checkboxElement.bind("mouseover.wijcheckbox",function(n){if(e._isDisabled())return;e.boxElement&&e.boxElement.addClass(t.wijCSS.stateHover)}).bind("mouseout.wijcheckbox",function(n){if(e._isDisabled())return;e.boxElement&&e.boxElement.removeClass(t.wijCSS.stateHover).not("."+t.wijCSS.stateFocus)})},n.prototype._unbindEvents=function(){var e=this;e.element.unbind(".wijcheckbox"),e.boxElement&&e.boxElement.unbind(".wijcheckbox"),e.checkboxElement&&e.checkboxElement.unbind(".wijcheckbox")},n.prototype._decorateCheckbox=function(){var e=this,t=e.element,n=e.options,i,s,o,u,a;i=e._getCheckboxElement(),o=r("label[for='"+t.attr("id")+"']"),o.length>0&&(i.append(o),o.attr("labelsign","C1")),u=e._getBoxElement(),a=u.children("."+n.wijCSS.wijcheckboxIcon),i.append(u),u.removeClass(n.wijCSS.wijcheckboxRelative).attr("role","checkbox"),(o.length===0||o.html()==="")&&u.addClass(n.wijCSS.wijcheckboxRelative),this.iconElement=a,this.boxElement=u,this.checkboxElement=i},n.prototype._getBoxElement=function(){var e=this.options,t=r("<div></div>").addClass(e.wijCSS.wijcheckboxBox).addClass(e.wijCSS.widget).addClass(e.wijCSS.stateDefault).addClass(e.wijCSS.cornerAll).append(r("<span></span>").addClass(e.wijCSS.wijcheckboxIcon));return this._isDisabled()&&t.addClass(e.wijCSS.stateDisabled),t},n.prototype._getCheckboxElement=function(){var e=this,t=e.element,n=e.options,i,s;return t.parent().is("label")?(i=t.parent().wrap(r("<div></div>").addClass(n.wijCSS.wijcheckboxInputwrapper)).parent().wrap("<div></div>").parent().addClass(n.wijCSS.wijcheckbox).addClass(n.wijCSS.widget),s=t.parent(),s.attr("for",t.attr("id")),i.find("."+n.wijCSS.wijcheckboxInputwrapper).append(t),i.append(s)):i=t.wrap(r("<div></div>").addClass(n.wijCSS.wijcheckboxInputwrapper)).parent().wrap("<div></div>").parent().addClass(n.wijCSS.wijcheckbox).addClass(n.wijCSS.widget),i.attr("title",t.attr("title")),i},n.prototype._create=function(){window.wijmoApplyWijTouchUtilEvents&&(r=window.wijmoApplyWijTouchUtilEvents(r)),t.prototype._create.call(this)},n.prototype._setOption=function(e,n){var r=this,i=r.options,s,o=i.checked;if(i[e]===n)return;t.prototype._setOption.call(this,e,n),e==="checked"&&(r.element.get(0).checked=n,r.refresh(),r._trigger("changed",null,{checked:n}))},n.prototype._innerDisable=function(){t.prototype._innerDisable.call(this),this._toggleDisableCheckBox(!0)},n.prototype._innerEnable=function(){t.prototype._innerEnable.call(this),this._toggleDisableCheckBox(!1)},n.prototype._toggleDisableCheckBox=function(e){this.element.prop("disabled",e),this.boxElement&&this.boxElement.toggleClass(this.options.wijCSS.stateDisabled,e)},n.prototype._initCheckState=function(){var e=this,t=e.options;t.checked!==undefined&&t.checked!==null&&(e.element.get(0).checked=t.checked)},n.prototype.refresh=function(e){var t=this,n=t.options,r=t.element.get(0).checked;n.checked=r,t.iconElement&&t.iconElement.toggleClass(n.wijCSS.icon+" "+n.wijCSS.iconCheck,r),t.boxElement&&t.boxElement.toggleClass(n.wijCSS.stateActive,r).attr("aria-checked",r),t.checkboxElement&&t.checkboxElement.toggleClass(n.wijCSS.stateChecked,r),e&&e.stopPropagation()},n.prototype.destroy=function(){var e=this,n=e.element.parent().parent();n.children("div."+e.options.wijCSS.wijcheckboxBox).remove(),e.element.unwrap(),e.element.unwrap(),e._unbindEvents(),t.prototype.destroy.call(this)},n}(t.wijmoWidget);n.wijcheckbox=u;var a=function(){function e(){this.initSelector=":jqmData(role='wijcheckbox')",this.wijCSS={wijcheckbox:"wijmo-checkbox",wijcheckboxBox:"wijmo-checkbox-box",wijcheckboxIcon:"wijmo-checkbox-icon",wijcheckboxInputwrapper:"wijmo-checkbox-inputwrapper",wijcheckboxRelative:"wijmo-checkbox-relative"},this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body-b",stateDefault:"ui-btn ui-btn-b",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-b"},this.checked=null,this.changed=null}return e}();u.prototype.options=r.extend(!0,{},t.wijmoWidget.prototype.options,new a),r.wijmo.registerWidget(i,u.prototype)})(t.checkbox||(t.checkbox={}));var n=t.checkbox})(wijmo||(wijmo={}))});