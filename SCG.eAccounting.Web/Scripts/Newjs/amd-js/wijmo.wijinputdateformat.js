var wijmo;define(["jquery","globalize","./wijmo.wijutil"],function(){var e=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};(function(t){(function(t){function n(e,t){typeof t=="undefined"&&(t=2);var n=""+e+"";if(n.length>t)n=n.substr(n.length-t);else while(n.length<t)n="0"+n;return n}function K(e,t,n){if(e instanceof Date){t||(t="d"),n||(typeof t=="string"?n={}:n=t),typeof t=="string"&&(n.format=t),n.date=e;var r=new J(n),i=new $(r,n.format,!0);return i.toString()}return""}function G(e,t,n){Globalize.findClosestCulture(t)&&(n=t,t=undefined);var r=Globalize.findClosestCulture(n).calendars.standard,i=r.patterns.d;t?t.length<=1?i=et(t,r.patterns):i=t:i=r.patterns.d;var s=new J({}),o=new $(s,i,!0);return Y(o.descriptors)?Z(e,o,r):Globalize.parseDate(e,i,n)}function Y(e){for(var t=0;t<e.length;t++)if(e[t].type===70||e[t].type===71||e[t].type===72||e[t].type===73||e[t].type===74||e[t].type===75)return!0;return!1}function Z(e,t,n){var r="",i="",s=0,o=0,u=1,a=1,f=1,l=0,c=0,h=0,p=function(){return s<e.length&&d+1<t.descriptors.length&&t.descriptors[d+1].type===-1&&e.charAt(s)!==t.descriptors[d+1].liternal||d===t.descriptors.length-1&&s+1<=e.length};for(var d=0;d<t.descriptors.length;d++){var v=!1;for(;s<e.length;){r=e.charAt(s++),i+=r;for(var m=0;m<V.GetEraCount();m++){var g=i.toLocaleLowerCase()===V.GetEraShortNames()[m].toLowerCase()&&t.descriptors[d].type===72,y=i.toLocaleLowerCase()===V.GetEraAbbreviations()[m].toLowerCase()&&t.descriptors[d].type===73,b=i.toLocaleLowerCase()===V.GetEraNames()[m].toLowerCase()&&t.descriptors[d].type===74;if(g||y||b){o=m,i="",v=!0;break}}if(v)break;if(t.descriptors[d].type===-1&&t.descriptors[d].liternal===i){i="";break}switch(t.descriptors[d].type){case 70:case 71:if(p())break;u=parseInt(i,10),isNaN(u)&&(u=1),i="",v=!0;break;case 75:if(p())break;i==="\u5143"?u=1:(u=parseInt(i,10),isNaN(u)&&(u=1)),i="",v=!0;break;case 20:case 25:if(p())break;a=parseInt(i,10),isNaN(a)&&(a=1),i="",v=!0;break;case 26:if(p())break;for(var w=0;w<n.months.namesAbbr.length;w++)if(i.toLocaleLowerCase()===n.months.namesAbbr[w]){a=w+1,i="";break}v=!0;break;case 27:if(p())break;for(var E=0;E<n.months.names.length;E++)if(i.toLocaleLowerCase()===n.months.names[E]){a=E+1,i="";break}v=!0;break;case 30:case 31:if(p())break;f=parseInt(i,10),isNaN(f)&&(f=1),i="",v=!0;break;case 45:case 46:case 47:case 48:if(p())break;l=parseInt(i,10),isNaN(l)&&(l=1),i="",v=!0;break;case 51:case 50:if(p())break;c=parseInt(i,10),isNaN(c)&&(c=1),i="",v=!0;break;case 61:case 60:if(p())break;h=parseInt(i,10),isNaN(h)&&(h=1),i="",v=!0;break;case 250:case 251:if(p())break;for(var S=0;S<n.PM.length;S++)if(i.toLocaleLowerCase()===n.PM[S]){l+=12;break}i="",v=!0;break;case 1:case 2:case 10:case 100:case 101:case 80:if(p())break;i="",v=!0;break;default:}if(v)break}}return V.ConvertToGregorianDate(o,u,a,f,l,c,h,!1)}function et(e,t){var n=e;if(e&&e.length<=1)switch(e){case"":case"d":n=t.patterns.d;break;case"D":n=t.patterns.D;break;case"f":n=t.patterns.D+" "+t.patterns.t;break;case"F":n=t.patterns.D+" "+t.patterns.T;break;case"g":n=t.patterns.d+" "+t.patterns.t;break;case"G":n=t.patterns.d+" "+t.patterns.T;break;case"m":n=t.patterns.M;break;case"M":n=t.patterns.M;break;case"s":n=t.patterns.S;break;case"t":n=t.patterns.t;break;case"T":n=t.patterns.T;break;case"u":n=t.patterns.S;break;case"U":n=t.patterns.D+" "+t.patterns.T;break;case"y":n=t.patterns.Y;break;case"Y":n=t.patterns.Y;break;case"r":case"R":n="ddd, dd MMM yyyy HH:mm:ss G\\M\\T"}return n}function tt(e,t,n,r,i){var s=G(e,r,i);return s>=t&&s<=n}t.paddingZero=n,function(e){e[e.liternal=-1]="liternal",e[e.OneDigitYear=1]="OneDigitYear",e[e.TwoDigitYear=2]="TwoDigitYear",e[e.FourDigitYear=10]="FourDigitYear",e[e.TwoDigitMonth=20]="TwoDigitMonth",e[e.Month=25]="Month",e[e.AbbreviatedMonthNames=26]="AbbreviatedMonthNames",e[e.MonthNames=27]="MonthNames",e[e.EraYear=70]="EraYear",e[e.TwoEraYear=71]="TwoEraYear",e[e.EraName=72]="EraName",e[e.TwoEraName=73]="TwoEraName",e[e.ThreeEraName=74]="ThreeEraName",e[e.EraYearBig=75]="EraYearBig",e[e.AD=80]="AD",e[e.TwoDigityDayOfMonth=30]="TwoDigityDayOfMonth",e[e.DayOfMonth=31]="DayOfMonth",e[e.AbbreviatedDayNames=100]="AbbreviatedDayNames",e[e.DayNames=101]="DayNames",e[e.h=45]="h",e[e.hh=46]="hh",e[e.H=47]="H",e[e.HH=48]="HH",e[e.ShortAmPm=250]="ShortAmPm",e[e.AmPm=251]="AmPm",e[e.mm=50]="mm",e[e.m=51]="m",e[e.ss=60]="ss",e[e.s=61]="s"}(t.DescriptorType||(t.DescriptorType={}));var r=t.DescriptorType,i=function(){function e(e,t){this.id=t,this.startIndex=0,this.name=null,this.type=-1,this.maxLen=2,this.formatString="",this._txtProvider=e,this.startIndex=0}return e.prototype.getText=function(){return null},e.prototype.getRealText=function(e){var t=this._txtProvider.inputWidget.options;if(t.date==null){if(t.promptChar!==""){var n="";for(var r=0;r<this.formatString.length;r++)n+=t.promptChar;return n}return this.formatString}return e},e.prototype.setText=function(e,t,n,r){return!1},e.prototype.inc=function(){},e.prototype.dec=function(){},e.prototype.needAdjustInsertPos=function(){return!0},e.prototype.reachMaxLen=function(){var e=this.getText();do{if(e.charAt(0)!=="0")break;e=e.slice(1)}while(e.length>0);return e.length>=this.maxLen},e}();t._iDateDescriptor=i;var s=function(t){function n(e,n){t.call(this,e,n),this.liternal="",this.maxLen=100}return e(n,t),n.prototype.getText=function(){return this.liternal},n}(i),o=function(t){function n(e,n){t.call(this,e,n)}return e(n,t),n.prototype.inc=function(){var e=this._txtProvider.getDate(),t=this._txtProvider.inputWidget._getRealEraMinDate(),n=this._txtProvider.inputWidget._getRealEraMaxDate();if(V.Equal(e,n))this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(new Date(t.valueOf()));else{var r=this._txtProvider.inputWidget._getInnerIncrement();this._txtProvider.setYear(this._txtProvider.getYear()+r,null,!0),this._txtProvider.getDate()>n&&this._txtProvider.setDate(new Date(n.valueOf()))}},n.prototype.dec=function(){var e=this._txtProvider.getDate(),t=this._txtProvider.inputWidget._getRealEraMinDate(),n=this._txtProvider.inputWidget._getRealEraMaxDate();if(V.Equal(e,t))this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(new Date(n.valueOf()));else{var r=this._txtProvider.inputWidget._getInnerIncrement();this._txtProvider.setYear(this._txtProvider.getYear()-r,null,!0),this._txtProvider.getDate()<t&&this._txtProvider.setDate(new Date(t.valueOf()))}},n}(i),u=function(t){function n(e,n){t.call(this,e,n),this.name="Era Year",this.formatString="e",this.type=70}return e(n,t),n.prototype.getText=function(){var e=V.GetEraDate(this._txtProvider.getDate());return e.eraYear===-1?"":(e.eraYear=e.eraYear>99?99:e.eraYear,this.getRealText(String(e.eraYear)))},n.prototype.setText=function(e,t,n){if(isNaN(parseInt(e)))return!1;var r=this._txtProvider.getDate(),i=V.GetEraDate(r);if(i.eraYear!==-1){var s=parseInt(e);s>=V.GetEraYears()[i.era]&&(s=V.GetEraYears()[i.era]);var o=this._txtProvider.inputWidget.options.date==null;o&&(s=parseInt(e));var u=V.ConvertToGregorianDate(i.era,s,r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),!1);if(i.era<V.GetEraCount()-1){var a=V.GetEraDates()[i.era+1];u>a&&(s=V.GetEraYears()[i.era]-1,u=V.ConvertToGregorianDate(i.era,s,r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),!1))}return this._txtProvider.setDate(u),!0}return!1},n}(o),a=function(t){function r(e,n){t.call(this,e,n),this.name="Two Era Year",this.formatString="ee",this.type=71}return e(r,t),r.prototype.getText=function(){var e=V.GetEraDate(this._txtProvider.getDate());return e.eraYear===-1?"":(e.eraYear=e.eraYear>99?99:e.eraYear,this.getRealText(n(e.eraYear,2)))},r.prototype.setText=function(e,t,n){if(isNaN(parseInt(e)))return!1;var r=this._txtProvider.getDate(),i=V.GetEraDate(r);if(i.eraYear!==-1){var s=String(i.eraYear)+e,o=parseInt(s.substring(s.length-2,s.length));o>V.GetEraYears()[i.era]&&(o=V.GetEraYears()[i.era]);var u=this._txtProvider.inputWidget.options.date==null;u&&(o=parseInt(e));var a=V.ConvertToGregorianDate(i.era,o,r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),!1);if(i.era<V.GetEraCount()-1){var f=V.GetEraDates()[i.era+1];a>f&&(o=V.GetEraYears()[i.era]-1,a=V.ConvertToGregorianDate(i.era,o,r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),!1))}return this._txtProvider.setDate(a),!0}return!1},r}(o),f=function(t){function n(e,n){t.call(this,e,n),this.name="Era Year Big",this.formatString="E",this.type=75}return e(n,t),n.prototype.getText=function(){var e=t.prototype.getText.call(this);return e==1?"\u5143":e},n}(u),l=function(t){function n(e,n){t.call(this,e,n)}return e(n,t),n.prototype.inc=function(){var e=this._txtProvider.getDate(),t=V.GetEraDate(e);if(t.era===-1)return;var n=this._txtProvider.inputWidget._getRealEraMinDate(),r=this._txtProvider.inputWidget._getRealEraMaxDate();if(V.Equal(e,r))this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(new Date(n.valueOf()));else if(t.era>=V.GetEraCount()-1)this._txtProvider.setDate(new Date(r.valueOf()));else{var i=t.era+this._txtProvider.inputWidget._getInnerIncrement();i=i>V.GetEraCount()-1?V.GetEraCount()-1:i;var s=t.eraYear>V.GetEraYears()[i]?V.GetEraYears()[i]:t.eraYear,o=V.ConvertToGregorianDate(i,s,e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),!0);o=o==null?V.GetEraDates()[i]:o,o>r?this._txtProvider.setDate(new Date(r.valueOf())):this._txtProvider.setDate(o)}},n.prototype.dec=function(){var e=this._txtProvider.getDate(),t=V.GetEraDate(e);if(t.era===-1)return;var n=this._txtProvider.inputWidget._getRealEraMinDate(),r=this._txtProvider.inputWidget._getRealEraMaxDate();if(V.Equal(e,n))this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(new Date(r.valueOf()));else if(t.era==0)this._txtProvider.setDate(new Date(n.valueOf()));else{var i=t.era-this._txtProvider.inputWidget._getInnerIncrement();i=i<0?0:i;var s=t.eraYear>V.GetEraYears()[i]?V.GetEraYears()[i]:t.eraYear,o=V.ConvertToGregorianDate(i,s,e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),!0);o==null&&(o=new Date(V.GetEraDates()[i+1]),o.setDate(o.getDate()-1)),o>r?this._txtProvider.setDate(new Date(n.valueOf())):this._txtProvider.setDate(o)}},n}(i),c=function(t){function n(e,n){t.call(this,e,n),this.name="Era Name",this.formatString="g",this.type=72}return e(n,t),n.prototype.getText=function(){if(V.GetEraCount()===1)return V.GetEraSymbols()[0];var e=V.GetEraDate(this._txtProvider.getDate());return e.era===-1?"":this.getRealText(V.GetEraSymbols()[e.era])},n.prototype.setText=function(e,t,n){var r=e.substr(e.length-1,1),i=0;for(i=0;i<V.GetEraCount();i++)if(r.toLowerCase()===V.GetEraShortcuts()[i].toLowerCase()||e.toLowerCase()===V.GetEraShortNames()[i].toLowerCase())break;if(i==V.GetEraCount())return!0;var s=this._txtProvider.getDate(),o=V.GetEraDate(s);if(o.era===-1)return!0;var u=o.eraYear>V.GetEraYears()[i]?V.GetEraYears()[i]:o.eraYear,a=V.ConvertToGregorianDate(i,u,s.getMonth()+1,s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),!0);a=a==null?V.GetEraDates()[i]:a;if(i<V.GetEraCount()-1){var f=V.GetEraDates()[i+1];a=a>f?f:a}return this._txtProvider.setDate(a),!0},n}(l),h=function(t){function n(e,n){t.call(this,e,n),this.name="Two Era Name",this.formatString="gg",this.type=73}return e(n,t),n.prototype.getText=function(){if(V.GetEraCount()===1)return V.GetEraAbbreviations()[0];var e=V.GetEraDate(this._txtProvider.getDate());return e.era===-1?"":this.getRealText(V.GetEraAbbreviations()[e.era])},n.prototype.setText=function(e,t,n){var r=e.substr(e.length-1,1),i=0;for(i=0;i<V.GetEraCount();i++)if(r.toLowerCase()===V.GetEraShortcuts()[i].toLowerCase()||e.toLowerCase()===V.GetEraShortNames()[i].toLowerCase()||e.toLowerCase()===V.GetEraAbbreviations()[i].toLowerCase())break;if(i==V.GetEraCount())return!0;var s=this._txtProvider.getDate(),o=V.GetEraDate(s);if(o.era===-1)return!0;var u=o.eraYear>V.GetEraYears()[i]?V.GetEraYears()[i]:o.eraYear,a=V.ConvertToGregorianDate(i,u,s.getMonth()+1,s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),!0);a=a==null?V.GetEraDates()[i]:a;if(i<V.GetEraCount()-1){var f=V.GetEraDates()[i+1];a=a>f?f:a}return this._txtProvider.setDate(a),!0},n}(l),p=function(t){function n(e,n){t.call(this,e,n),this.name="Three Era Name",this.formatString="ggg",this.type=74}return e(n,t),n.prototype.getText=function(){if(V.GetEraCount()===1)return V.GetEraNames()[0];var e=V.GetEraDate(this._txtProvider.getDate());return e.era===-1?"":this.getRealText(V.GetEraNames()[e.era])},n.prototype.setText=function(e,t,n){var r=e.substr(e.length-1,1),i=0;for(i=0;i<V.GetEraCount();i++)if(r.toLowerCase()===V.GetEraShortcuts()[i].toLowerCase()||e.toLowerCase()===V.GetEraShortNames()[i].toLowerCase()||e.toLowerCase()===V.GetEraAbbreviations()[i].toLowerCase()||e.toLowerCase()===V.GetEraNames()[i].toLowerCase())break;if(i==V.GetEraCount())return!1;var s=this._txtProvider.getDate(),o=V.GetEraDate(s);if(o.era===-1)return!0;var u=o.eraYear>V.GetEraYears()[i]?V.GetEraYears()[i]:o.eraYear,a=V.ConvertToGregorianDate(i,u,s.getMonth()+1,s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),!0);a=a==null?V.GetEraDates()[i]:a;if(i<V.GetEraCount()-1){var f=V.GetEraDates()[i+1];a=a>f?f:a}return this._txtProvider.setDate(a),!0},n}(l),d=function(t){function n(e,n){t.call(this,e,n),this.name="AD",this.formatString="A",this.type=80}return e(n,t),n.prototype.getText=function(){return"A.D."},n}(i),v=function(t){function n(e,n){t.call(this,e,n)}return e(n,t),n.prototype.inc=function(){t.prototype.inc.call(this);var e=this._txtProvider.getDate(),n=e.getFullYear(),r=e.getMonth(),i=e.getDate(),s=e.getHours(),o=e.getMinutes(),u=e.getSeconds(),a=r+this._txtProvider.inputWidget._getInnerIncrement(),f=V.DaysInMonth(n,a+1);i>f&&(i=f);var l=new Date(n,a,i,s,o,u);if(this._txtProvider._isEraFormatExist()){var c=this._txtProvider.inputWidget._getRealEraMinDate(),h=this._txtProvider.inputWidget._getRealEraMaxDate();l>=h?V.Equal(this._txtProvider.getDate(),h)?this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(c):this._txtProvider.setDate(h):this._txtProvider.setDate(l)}else{var c=this._txtProvider.inputWidget._getRealMinDate(),h=this._txtProvider.inputWidget._getRealMaxDate();this._txtProvider.inputWidget._isValidDate(l,!0)?this._txtProvider.setDate(l):V.Equal(this._txtProvider.getDate(),h)?this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(c):this._txtProvider.setDate(h)}},n.prototype.dec=function(){t.prototype.inc.call(this);var e=this._txtProvider.getDate(),n=e.getFullYear(),r=e.getMonth(),i=e.getDate(),s=e.getHours(),o=e.getMinutes(),u=e.getSeconds(),a=r-this._txtProvider.inputWidget._getInnerIncrement(),f=V.DaysInMonth(n,a+1);i>f&&(i=f);var l=new Date(n,a,i,s,o,u);n==1&&(l.setFullYear(1),a<0&&l.setMonth(a));if(this._txtProvider._isEraFormatExist()){var c=this._txtProvider.inputWidget._getRealEraMinDate(),h=this._txtProvider.inputWidget._getRealEraMaxDate();l<c?V.Equal(this._txtProvider.getDate(),c)?this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(h):this._txtProvider.setDate(c):this._txtProvider.setDate(l)}else{var c=this._txtProvider.inputWidget._getRealMinDate(),h=this._txtProvider.inputWidget._getRealMaxDate();this._txtProvider.inputWidget._isValidDate(l,!0)?this._txtProvider.setDate(l):V.Equal(this._txtProvider.getDate(),c)?this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(h):this._txtProvider.setDate(c)}},n.prototype.setText=function(e,t,n){parseInt(e)>12&&(e=e.substr(e.length-1,1));var r=this._txtProvider.setMonth(e,t,n);if(r&&this._txtProvider._isEraFormatExist()){var i=this._txtProvider.inputWidget._getRealEraMinDate(),s=this._txtProvider.inputWidget._getRealEraMaxDate(),o=this._txtProvider.getDate();o>s?this._txtProvider.setDate(s):o<i&&this._txtProvider.setDate(i)}return r},n}(i),m=function(t){function n(e,n){t.call(this,e,n),this.name="Two-digit month",this.formatString="MM",this.type=20}return e(n,t),n.prototype.getText=function(){var e=""+this._txtProvider.getMonth()+"";return this.getRealText(e.length===1?"0"+e:e)},n.prototype.setText=function(e,n,r){return e==="0"?!0:t.prototype.setText.call(this,e,n,r)},n}(v),g=function(t){function n(e,n){t.call(this,e,n),this.name="month",this.formatString="M",this.type=25}return e(n,t),n.prototype.getText=function(){var e=""+this._txtProvider.getMonth()+"";return this.getRealText(e)},n}(v),y=function(t){function n(e,n){t.call(this,e,n),this.name="AbbreviatedMonthNames",this.formatString="MMM",this.type=26,this.maxLen=26}return e(n,t),n.prototype.getText=function(){var e=this._txtProvider.getMonth(),t=this._txtProvider._getCulture();return this.getRealText(t.calendars.standard.months.namesAbbr[e-1])},n.prototype.setText=function(e,t,n){var r=-1,i=this._txtProvider.inputWidget._getCulture().calendars.standard;return r=this._txtProvider.findAlikeArrayItemIndex(i.months.namesAbbr,e),r===-1?!1:this._txtProvider.setMonth(r+1,t,n)},n}(v),b=function(t){function n(e,n){t.call(this,e,n),this.name="MonthNames",this.formatString="MMMM",this.type=27,this.maxLen=100}return e(n,t),n.prototype.getText=function(){var e=this._txtProvider.getMonth(),t=this._txtProvider._getCulture();return this.getRealText(t.calendars.standard.months.names[e-1])},n.prototype.setText=function(e,t,n){var r=-1,i;if(n&&n.isfullreset)r=1;else{i=this._txtProvider._getCulture(),r=this._txtProvider.findAlikeArrayItemIndex(i.calendars.standard.months.names,e);if(r===-1)return!1}return this._txtProvider.setMonth(r+1,t,n)},n}(v),w=function(t){function n(e,n){t.call(this,e,n)}return e(n,t),n.prototype.inc=function(){var e=this._txtProvider.getDayOfMonth()+this._txtProvider.inputWidget._getInnerIncrement(),t=new Date(this._txtProvider.getDate().valueOf());t.setDate(e);if(this._txtProvider._isEraFormatExist()){var n=this._txtProvider.inputWidget._getRealEraMinDate(),r=this._txtProvider.inputWidget._getRealEraMaxDate();t>r?this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(n):this._txtProvider.setDate(t)}else{var n=this._txtProvider.inputWidget._getRealMinDate(),r=this._txtProvider.inputWidget._getRealMaxDate();this._txtProvider.inputWidget._isValidDate(t,!0)?this._txtProvider.setDate(t):this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(n)}},n.prototype.dec=function(){var e=this._txtProvider.getDayOfMonth()-this._txtProvider.inputWidget._getInnerIncrement(),t=new Date(this._txtProvider.getDate().valueOf());t.setDate(e);if(this._txtProvider._isEraFormatExist()){var n=this._txtProvider.inputWidget._getRealEraMinDate(),r=this._txtProvider.inputWidget._getRealEraMaxDate();t<n?this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(r):this._txtProvider.setDate(t)}else{var n=this._txtProvider.inputWidget._getRealMinDate(),r=this._txtProvider.inputWidget._getRealMaxDate();this._txtProvider.inputWidget._isValidDate(t,!0)?this._txtProvider.setDate(t):this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(r)}},n.prototype.setText=function(e,t,n){var r=this._txtProvider.getDate(),i=V.DaysInMonth(r.getFullYear(),r.getMonth()+1);parseInt(e)>i&&(e=i+"");var s=this._txtProvider.setDayOfMonth(e,t,n);if(s&&this._txtProvider._isEraFormatExist()){var o=this._txtProvider.inputWidget._getRealEraMinDate(),u=this._txtProvider.inputWidget._getRealEraMaxDate(),r=this._txtProvider.getDate();r>u?this._txtProvider.setDate(u):r<o&&this._txtProvider.setDate(o)}return s},n}(i),E=function(t){function r(e,n){t.call(this,e,n),this.name="Two-digit day of month",this.formatString="dd",this.type=30}return e(r,t),r.prototype.getText=function(){return this.getRealText(n(this._txtProvider.getDayOfMonth()))},r.prototype.setText=function(e,n,r){return e==="0"?!0:t.prototype.setText.call(this,e,n,r)},r}(w),S=function(t){function n(e,n){t.call(this,e,n),this.name="Day of month",this.formatString="d",this.type=31}return e(n,t),n.prototype.getText=function(){var e=this._txtProvider.getDayOfMonth();return this.getRealText(""+e+"")},n}(w),x=function(t){function n(e,n){t.call(this,e,n),this.name="AbbreviatedDayNames",this.formatString="ddd",this.type=100,this.maxLen=100}return e(n,t),n.prototype.getText=function(){var e=this._txtProvider.getDayOfWeek(),t=this._txtProvider._getCulture();return this.getRealText(t.calendars.standard.days.namesAbbr[e-1])},n.prototype.setText=function(e,t,n){var r=-1,i=this._txtProvider._getCulture();return r=this._txtProvider.findAlikeArrayItemIndex(i.calendars.standard.days.namesShort,e),r===-1?!1:this._txtProvider.setDayOfWeek(r+1)},n.prototype.needAdjustInsertPos=function(){return!1},n}(w),T=function(t){function n(e,n){t.call(this,e,n),this.name="DayNames",this.formatString="dddd",this.type=101,this.maxLen=100}return e(n,t),n.prototype.getText=function(){var e=this._txtProvider.getDayOfWeek(),t=this._txtProvider._getCulture();return this.getRealText(t.calendars.standard.days.names[e-1])},n.prototype.setText=function(e,t,n){var r=-1,i=this._txtProvider._getCulture();return r=this._txtProvider.findAlikeArrayItemIndex(i.calendars.standard.days.names,e),r===-1?!1:this._txtProvider.setDayOfWeek(r+1)},n.prototype.needAdjustInsertPos=function(){return!1},n}(w),N=function(t){function n(e,n){t.call(this,e,n)}return e(n,t),n.prototype.inc=function(){var e=this._txtProvider.getYear()+this._txtProvider.inputWidget._getInnerIncrement(),t=new Date(this._txtProvider.getDate().valueOf());t.setFullYear(e);if(this._txtProvider._isEraFormatExist()){var n=this._txtProvider.inputWidget._getRealEraMinDate(),r=this._txtProvider.inputWidget._getRealEraMaxDate();t>r?V.Equal(this._txtProvider.getDate(),r)?this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(n):this._txtProvider.setDate(r):this._txtProvider.setDate(t)}else{var n=this._txtProvider.inputWidget._getRealMinDate(),r=this._txtProvider.inputWidget._getRealMaxDate();this._txtProvider.inputWidget._isValidDate(t,!0)?this._txtProvider.setDate(t):V.Equal(this._txtProvider.getDate(),r)?this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(n):this._txtProvider.setDate(r)}},n.prototype.dec=function(){var e=this._txtProvider.getYear()- +this._txtProvider.inputWidget._getInnerIncrement(),t=new Date(this._txtProvider.getDate().valueOf());t.setFullYear(e);if(this._txtProvider._isEraFormatExist()){var n=this._txtProvider.inputWidget._getRealEraMinDate(),r=this._txtProvider.inputWidget._getRealEraMaxDate();t<n?V.Equal(this._txtProvider.getDate(),n)?this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(r):this._txtProvider.setDate(n):this._txtProvider.setDate(t)}else{var n=this._txtProvider.inputWidget._getRealMinDate(),r=this._txtProvider.inputWidget._getRealMaxDate();this._txtProvider.inputWidget._isValidDate(t,!0)?this._txtProvider.setDate(t):V.Equal(this._txtProvider.getDate(),n)?this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(r):this._txtProvider.setDate(n)}},n}(i),C=function(t){function r(e,n){t.call(this,e,n)}return e(r,t),r.prototype.setText=function(e,t,r){e=n(e);var i=n(this._txtProvider.getYear(),4),s,o,u,a,f;return e==="00"&&(s=this._txtProvider.getMonth(),o=this._txtProvider.getDayOfMonth(),u=this._txtProvider.getHours(),a=this._txtProvider.getMinutes(),f=this._txtProvider.getSeconds(),s===1&&o===1&&!u&&!a&&!f&&(i="0001",e="01")),i.length>=2&&(i=i.substr(0,2)+e.substr(0,2)),this._txtProvider.setYear(parseInt(i),r,!1)},r}(N),k=function(t){function r(e,n){t.call(this,e,n),this.name="Four-digit year",this.formatString="yyyy",this.type=10,this.maxLen=4}return e(r,t),r.prototype.getText=function(){return this.getRealText(n(this._txtProvider.getYear(),4))},r.prototype.setText=function(e,t,n,r){if(r&&n){e*=1,e%=100;var i=2e3;this._txtProvider.inputWidget.options.startYear&&(i=this._txtProvider.inputWidget.options.startYear);var s=i%100,o=i-s;e>=s?e=o+e:e=o+e+100}return this._txtProvider.setYear(e,n,!1)},r}(N),L=function(t){function r(e,n){t.call(this,e,n),this.name="One-digit year",this.formatString="y",this.type=1}return e(r,t),r.prototype.getText=function(){var e=n(this._txtProvider.getYear());return e[0]==="0"&&(e=e[1]),this.getRealText(e)},r}(C),A=function(t){function r(e,n){t.call(this,e,n),this.name="Two-digit year",this.formatString="yy",this.type=2}return e(r,t),r.prototype.getText=function(){return this._txtProvider.inputWidget.isFocused()&&this._txtProvider.inputWidget.options.date==null?"yy":this.getRealText(n(this._txtProvider.getYear(),2))},r}(C),O=function(t){function n(e,n){t.call(this,e,n)}return e(n,t),n.prototype.inc=function(){var e=this._txtProvider.getHours()+this._txtProvider.inputWidget._getInnerIncrement(),t=new Date(this._txtProvider.getDate().valueOf());t.setHours(e);if(this._txtProvider._isEraFormatExist()){var n=this._txtProvider.inputWidget._getRealEraMinDate(),r=this._txtProvider.inputWidget._getRealEraMaxDate();t>r?this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(n):this._txtProvider.setDate(t)}else{var n=this._txtProvider.inputWidget._getRealMinDate(),r=this._txtProvider.inputWidget._getRealMaxDate();this._txtProvider.inputWidget._isValidDate(t,!0)?this._txtProvider.setDate(t):this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(n)}},n.prototype.dec=function(){var e=this._txtProvider.getHours()-this._txtProvider.inputWidget._getInnerIncrement(),t=new Date(this._txtProvider.getDate().valueOf());t.setHours(e);if(this._txtProvider._isEraFormatExist()){var n=this._txtProvider.inputWidget._getRealEraMinDate(),r=this._txtProvider.inputWidget._getRealEraMaxDate();t<n?this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(r):this._txtProvider.setDate(t)}else{var n=this._txtProvider.inputWidget._getRealMinDate(),r=this._txtProvider.inputWidget._getRealMaxDate();this._txtProvider.inputWidget._isValidDate(t,!0)?this._txtProvider.setDate(t):this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(r)}},n}(i),M=function(t){function n(e,n){t.call(this,e,n)}return e(n,t),n.prototype.setText=function(e,t,n){var r=this._txtProvider.getHours();return r>12&&(e=e*1+12),this._txtProvider.setHours(e,t)},n}(O),_=function(t){function n(e,n){t.call(this,e,n),this.name="h",this.formatString="h",this.type=45}return e(n,t),n.prototype.getText=function(){if(this._txtProvider.inputWidget.isFocused()&&this._txtProvider.inputWidget.options.date==null)return"h";var e=this._txtProvider.getHours();return e>12?e-=12:e===0&&(e=12),e==12&&this._txtProvider.inputWidget.options.hour12As0&&(e=0),this.getRealText(""+e+"")},n}(M),D=function(t){function r(e,n){t.call(this,e,n),this.name="hh",this.formatString="hh",this.type=46}return e(r,t),r.prototype.getText=function(){var e=this._txtProvider.getHours();return e>12?e-=12:e===0&&(e=12),e==12&&this._txtProvider.inputWidget.options.hour12As0&&(e=0),this.getRealText(n(e,2))},r}(M),P=function(t){function n(e,n){t.call(this,e,n)}return e(n,t),n.prototype.setText=function(e,t,n){return this._txtProvider.setHours(e,t)},n}(O),H=function(t){function n(e,n){t.call(this,e,n),this.name="H",this.formatString="H",this.type=47}return e(n,t),n.prototype.getText=function(){var e=this._txtProvider.getHours();return e==0&&!this._txtProvider.inputWidget.options.midnightAs0&&(e=24),this.getRealText(""+e+"")},n}(P),B=function(t){function r(e,n){t.call(this,e,n),this.name="HH",this.formatString="HH",this.type=48}return e(r,t),r.prototype.getText=function(){var e=this._txtProvider.getHours();return e==0&&!this._txtProvider.inputWidget.options.midnightAs0&&(e=24),this.getRealText(n(e,2))},r}(P),j=function(t){function n(e,n){t.call(this,e,n)}return e(n,t),n.prototype.inc=function(){var e=(this._txtProvider.getHours()+12)%24;this._txtProvider.setHours(e,!0)},n.prototype.dec=function(){var e=(this._txtProvider.getHours()+12)%24;this._txtProvider.setHours(e,!0)},n.prototype.setText=function(e,t,n){var r;return e.toLowerCase().indexOf("a")>=0?(r=this._txtProvider.getHours()%12,this._txtProvider.setHours(r,!0)):e.toLowerCase().indexOf("p")>=0&&(r=this._txtProvider.getHours()%12+12,this._txtProvider.setHours(r,!0)),!0},n}(i),F=function(t){function n(e,n){t.call(this,e,n),this.name="t",this.formatString="t",this.type=250}return e(n,t),n.prototype.getText=function(){var e=this._txtProvider.getHours(),t=this._txtProvider._getCulture(),n=this._txtProvider.inputWidget._getInnerAmDesignator(),r=this._txtProvider.inputWidget._getInnerPmDesignator(),i=e<12?n:r;return this.getRealText(i.charAt(0)||" ")},n}(j),I=function(t){function n(e,n){t.call(this,e,n),this.name="tt",this.formatString="tt",this.type=251}return e(n,t),n.prototype.getText=function(){var e=this._txtProvider.getHours(),t=this._txtProvider._getCulture(),n=this._txtProvider.inputWidget._getInnerAmDesignator(),r=this._txtProvider.inputWidget._getInnerPmDesignator(),i=e<12?n:r;return i.length<=0&&(i=" "),this.getRealText(i)},n}(j),q=function(t){function n(e,n){t.call(this,e,n)}return e(n,t),n.prototype.inc=function(){var e=this._txtProvider.getMinutes()+this._txtProvider.inputWidget._getInnerIncrement(),t=new Date(this._txtProvider.getDate().valueOf());t.setMinutes(e);if(this._txtProvider._isEraFormatExist()){var n=this._txtProvider.inputWidget._getRealEraMinDate(),r=this._txtProvider.inputWidget._getRealEraMaxDate();t>r?this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(n):this._txtProvider.setDate(t)}else{var n=this._txtProvider.inputWidget._getRealMinDate(),r=this._txtProvider.inputWidget._getRealMaxDate();this._txtProvider.inputWidget._isValidDate(t,!0)?this._txtProvider.setDate(t):this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(n)}},n.prototype.dec=function(){var e=this._txtProvider.getMinutes()-this._txtProvider.inputWidget._getInnerIncrement(),t=new Date(this._txtProvider.getDate().valueOf());t.setMinutes(e);if(this._txtProvider._isEraFormatExist()){var n=this._txtProvider.inputWidget._getRealEraMinDate(),r=this._txtProvider.inputWidget._getRealEraMaxDate();t<n?this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(r):this._txtProvider.setDate(t)}else{var n=this._txtProvider.inputWidget._getRealMinDate(),r=this._txtProvider.inputWidget._getRealMaxDate();this._txtProvider.inputWidget._isValidDate(t,!0)?this._txtProvider.setDate(t):this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(r)}},n.prototype.setText=function(e,t,n){return n&&n.isfullreset&&(e="0"),this._txtProvider.setMinutes(e,t)},n}(i),R=function(t){function r(e,n){t.call(this,e,n),this.name="mm",this.formatString="mm",this.type=50}return e(r,t),r.prototype.getText=function(){return this.getRealText(n(this._txtProvider.getMinutes()))},r}(q),U=function(t){function n(e,n){t.call(this,e,n),this.name="m",this.formatString="m",this.type=51,this.delta=12}return e(n,t),n.prototype.getText=function(){return this.getRealText(this._txtProvider.getMinutes().toString())},n}(q),z=function(t){function n(e,n){t.call(this,e,n)}return e(n,t),n.prototype.inc=function(){var e=this._txtProvider.getSeconds()+this._txtProvider.inputWidget._getInnerIncrement(),t=new Date(this._txtProvider.getDate().valueOf());t.setSeconds(e);if(this._txtProvider._isEraFormatExist()){var n=this._txtProvider.inputWidget._getRealEraMinDate(),r=this._txtProvider.inputWidget._getRealEraMaxDate();t>r?this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(n):this._txtProvider.setDate(t)}else{var n=this._txtProvider.inputWidget._getRealMinDate(),r=this._txtProvider.inputWidget._getRealMaxDate();this._txtProvider.inputWidget._isValidDate(t,!0)?this._txtProvider.setDate(t):this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(n)}},n.prototype.dec=function(){var e=this._txtProvider.getSeconds()-this._txtProvider.inputWidget._getInnerIncrement(),t=new Date(this._txtProvider.getDate().valueOf());t.setSeconds(e);if(this._txtProvider._isEraFormatExist()){var n=this._txtProvider.inputWidget._getRealEraMinDate(),r=this._txtProvider.inputWidget._getRealEraMaxDate();t<n?this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(r):this._txtProvider.setDate(t)}else{var n=this._txtProvider.inputWidget._getRealMinDate(),r=this._txtProvider.inputWidget._getRealMaxDate();this._txtProvider.inputWidget._isValidDate(t,!0)?this._txtProvider.setDate(t):this._txtProvider.inputWidget._getAllowSpinLoop()&&this._txtProvider.setDate(r)}},n.prototype.setText=function(e,t,n){return n&&n.isfullreset&&(e="0"),this._txtProvider.setSeconds(e,t)},n}(i),W=function(t){function r(e,n){t.call(this,e,n),this.name="ss",this.formatString="ss",this.type=60}return e(r,t),r.prototype.getText=function(){return this.getRealText(n(this._txtProvider.getSeconds()))},r}(z),X=function(t){function n(e,n){t.call(this,e,n),this.name="s",this.formatString="s",this.type=61}return e(n,t),n.prototype.getText=function(){return this.getRealText(this._txtProvider.getSeconds().toString())},n}(z),V=function(){function e(){}return e.IsValidEraDate=function(e){return e<this.GetEraMin()||e>this.GetEraMax()?!1:!0},e.ConvertToGregorianYear=function(e,t,n){return e<0||e>=this.GetEraCount()||t<1||n&&t>this.GetEraYears()[e]?-1:this.GetEraDates()[e].getFullYear()+t-1},e.GetEraDates=function(){if(window.eras!=undefined){var e=new Array;for(var t=0;t<window.eras.length;t++){var n=new Date(window.eras[t].startDate.replace(/-/g,"/"));e[t]=n}return e}return this.EraDates},e.GetEraNames=function(){var e=new Array;if(window.eras!=undefined){for(var t=0;t<window.eras.length;t++)e[t]=window.eras[t].name;return e}for(var t=0;t<this.EraCount;t++)e[t]=this.EraNames[t+2*this.EraCount];return e},e.GetEraSymbols=function(){var e=new Array;if(window.eras!=undefined){for(var t=0;t<window.eras.length;t++)e[t]=window.eras[t].symbol;return e}for(var t=0;t<this.EraCount;t++)e[t]=this.EraNames[t];return e},e.GetEraAbbreviations=function(){var e=new Array;if(window.eras!=undefined){for(var t=0;t<window.eras.length;t++)e[t]=window.eras[t].abbreviation;return e}for(var t=0;t<this.EraCount;t++)e[t]=this.EraNames[t+this.EraCount];return e},e.GetEraShortNames=function(){var e=new Array;if(window.eras!=undefined){for(var t=0;t<window.eras.length;t++)e[t]=window.eras[t].shortcuts.split(",")[1];return e}for(var t=0;t<this.EraCount;t++)e[t]=this.EraNames[t];return e},e.GetEraShortcuts=function(){var e=new Array;if(window.eras!=undefined){for(var t=0;t<window.eras.length;t++)e[t]=window.eras[t].shortcuts.split(",")[0];return e}for(var t=0;t<this.EraCount;t++)e[t]=this.EraKeys[t];return e},e.GetEraMax=function(){if(window.eras!=undefined&&window.eras.length>0){var e=new Date(window.eras[window.eras.length-1].startDate.replace(/-/g,"/"));return e.setFullYear(e.getFullYear()+99),e}return this.EraMax},e.GetEraMin=function(){if(window.eras!=undefined&&window.eras.length>0){var e=new Date(window.eras[0].startDate.replace(/-/g,"/"));return e}return this.EraMin},e.GetEraCount=function(){return window.eras!=undefined?window.eras.length:this.EraCount},e.GetEraYears=function(){if(window.eras!=undefined){var e=new Array;for(var t=1;t<window.eras.length;t++){var n=new Date(window.eras[t-1].startDate.replace(/-/g,"/")),r=new Date(window.eras[t].startDate.replace(/-/g,"/"));e[t-1]=r.getFullYear()-n.getFullYear()+1}return e[t-1]=99,e}return this.EraYears},e.ConvertToGregorianDate=function(e,t,n,r,i,s,o,u){var a=this.ConvertToGregorianYear(e,t,u);if(a<1||a>9999)return null;if(n<1||n>12)return null;var f=this.DaysInMonth(a,n);if(r<1||r>f)return null;if(i<0||i>23)return null;if(s<0||s>59)return null;if(o<0||o>59)return null;var l=new Date(a,n-1,r,i,s,o);if(u){var c=this.GetEraDates()[e],h=e+1!=this.GetEraCount()?this.AddMilliseconds(this.GetEraDates()[e+1],-1):this.GetEraMax();if(l<c||l>h)return null}return l},e.String2Date=function(e){if(e==null||e.Length==0)return null;var t=new Date(Date.parse(e));return t},e.ToString=function(e,t,n,r){var i=e+"";if(n!=null){while(i.length<t)r?i+=n:i=n+i;return i}while(i.length<t)i+=e+"";return i},e.Date2String=function(t,n,r,i){var s="";try{n==1?r==1?s=t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate():i==1?s=t.getHours()+":"+e.ToString(t.getMinutes(),2,"0")+":"+e.ToString(t.getSeconds(),2,"0"):s=t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()+" "+t.getHours()+":"+e.ToString(t.getMinutes(),2,"0")+":"+e.ToString(t.getSeconds(),2,"0"):r==1?s=t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear():i==1?s=t.getHours()+":"+e.ToString(t.getMinutes(),2,"0")+":"+e.ToString(t.getSeconds(),2,"0"):s=t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()+" "+t.getHours()+":"+e.ToString(t.getMinutes(),2,"0")+":"+e.ToString(t.getSeconds(),2,"0")}catch(o){s=""}return s},e.Date2Long=function(e){try{return(e.getFullYear()*100+e.getMonth()+1)*100+e.getDate()}catch(t){return 0}},e.Date2Number=function(e){return e==null?0:((((e.getFullYear()*100+e.getMonth()+1)*100+e.getDate())*100+e.getHours())*100+e.getMinutes())*100+e.getSeconds()},e.Long2Date=function(e){return new Date(Math.floor(e/1e4),Math.floor(e%1e4/100)-1,e%100)},e.GetEraDate=function(e){var t=new Object;t.era=-1,t.eraYear=-1;if(!this.IsValidEraDate(e))return t;for(var n=0;n<this.GetEraCount();n++){var r=n+1!=this.GetEraCount()?this.GetEraDates()[n+1]:this.AddMilliseconds(this.GetEraMax(),1);if(e<r){t.era=n,t.eraYear=e.getFullYear()-this.GetEraDates()[n].getFullYear()+1;break}}return t},e.MakeDate=function(e,t,n,r){var i=new Date;return i=this.ConvertToGregorianDate(e,t,n,r,0,0,0,!0),i==null?-1:i},e.GetValidMonthRange=function(e,t){var n={};return n.min=1,n.max=12,e==-1||t==-1?n:(t==1?n.min=this.GetEraDates()[e].getMonth()+1:t==this.EraYears[e]&&e<this.EraCount-1&&(n.max=this.AddMilliseconds(this.GetEraDates()[e+1],-1).getMonth()+1),n)},e.GetValidDayRange=function(e,t,n){var r=new Object;r.min=1,r.max=this.DaysInMonth(this.ConvertToGregorianYear(e,t,!0),n);var i=this.GetEraDates()[e],s=e<this.GetEraCount()-1?this.AddMilliseconds(this.GetEraDates()[e+1],-1):this.GetEraMax();return e==-1||t==-1?r:(t==1&&n==i.getMonth()+1?r.min=i.getDate():t==this.EraYears[e]&&n==s.getMonth()+1&&(r.max=s.getDate()),r)},e.IsLeapYear=function(e){return e%400==0||e%4==0&&e%100!=0?!0:!1},e.DayOfYear=function(e,t,n){var r=0;for(var i=1;i<t;i++)r+=this.DaysInMonth(e,i);return r+=n,r},e.DaysInMonth=function(e,t){if(t>12)e+=Math.floor(t/12),t%=12;else if(t<0){var n=t*-1;e-=Math.ceil(n/12),t=12-n%12}switch(t){case 2:return this.IsLeapYear(e)?29:28;case 4:case 6:case 9:case 11:return 30;default:return 31}},e.Equal=function(e,t,n){if(e==null&&t==null)return!0;if(e==null)return!1;if(t==null)return!1;try{return n?e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()&&e.getHours()==t.getHours()&&e.getMinutes()==t.getMinutes()&&e.getSeconds()==t.getSeconds()?!0:!1:e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()?!0:!1}catch(r){return!1}},e.YearMonthEqual=function(e,t){if(e==null&&t==null)return!0;if(e==null)return!1;if(t==null)return!1;try{return e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()?!0:!1}catch(n){return!1}},e.SetDate=function(e,t,n){var r=new Date,i=12e4;if(e*12+t>i)r=new Date(9999,11,31);else if(e*12+t<100)r=new Date(100,0,1);else{var s=this.DaysInMonth(e,t);n>s&&(n=s),r=new Date(e,t-1,n)}return r},e.SetFullDate=function(e,t,n){var r=new Date;r.setDate(1);var i=12e4,s=this.DaysInMonth(e,t);return t>0&&t<12&&n>s&&(n=s),r.setFullYear(e),r.setMonth(t-1),r.setDate(n),r},e.SetFullDateByDate=function(e){var t=new Date;return t.setDate(1),t.setFullYear(e.getFullYear()),t.setMonth(e.getMonth()),t.setDate(e.getDate()),t.setHours(0,0,0,0),t},e.LYearDays=function(e){var t,n=348;for(t=32768;t>8;t>>=1)n+=this.LunarInfo[e-1960]&t?1:0;return n+this.leapDays(e)},e.leapDays=function(e){return this.LeapMonth(e)?this.LunarInfo[e-1960]&65536?30:29:0},e.LeapDays=function(e){return this.LeapMonth(e)?this.LunarInfo[e-1960]&65536?30:29:0},e.LeapMonth=function(e){return this.LunarInfo[e-1960]&15},e.MonthDays=function(e,t){return this.LunarInfo[e-1960]&65536>>t?30:29},e.GetRokuyou=function(e){if(e-this.RokuyouMin<0||e-this.RokuyouMax>0)return;var t,n=0,r=0,i=new Date(1960,0,28),s=Math.round((e-i)/864e5);for(t=1960;t<2050&&s>0;t++)r=this.LYearDays(t),s-=r;s<0&&(s+=r,t--),this.year=t,n=this.LeapMonth(t),this.isLeap=!1;for(t=1;t<13&&s>0;t++)n>0&&t==n+1&&this.isLeap==0?(--t,this.isLeap=!0,r=this.LeapDays(this.year)):r=this.MonthDays(this.year,t),this.isLeap==1&&t==n+1&&(this.isLeap=!1),s-=r;s==0&&n>0&&t==n+1&&(this.isLeap?this.isLeap=!1:(this.isLeap=!0,--t)),s<0&&(s+=r,--t),this.month=t,this.day=s+1;var o=(this.month+this.day-2)%6,u=new Date(1996,6,15),a=new Date(1996,7,13);this.IsDateInRange(e,u,a)&&(o=(6+o-1)%6);var f=new Date(1996,8,12),l=new Date(1996,9,11);this.IsDateInRange(e,f,l)&&(o=(6+o-1)%6);var c=new Date(2033,7,25),h=new Date(2033,11,21);this.IsDateInRange(e,c,h)&&(o=(o+1)%6),this.Equal(e,u)&&(o=(6+o-1)%6),this.Equal(e,f)&&(o=(6+o-1)%6);var p;return p},e.IsDateInRange=function(e,t,n){var r=e.getYear(),i=t.getYear(),s=n.getYear(),o=e.getMonth(),u=t.getMonth(),a=n.getMonth(),f=e.getDate(),l=t.getDate(),c=n.getDate(),h=r*1e4+o*100+f,p=i*1e4+u*100+l,d=s*1e4+a*100+c;return h>=p&&h<=d},e.GetRokuyouText=function(e){var t=new Array;t=this.RokuyouTextArray.slice(0);switch(e){default:return""}},e.DaysInSpecialWeek=function(e,t,n){var r=new Array,i=this.DaysInMonth(e,t+1),s=new Date(e,t,1),o;for(var u=1;u<=i;u++){s.setDate(u);if(s.getDay()==n){var a=new Date(e,t,u);r.push(a),o=u;break}}o+=7;while(o<=i){s.setDate(o);var f=new Date(e,t,o);r.push(f),o+=7}return r},e.GetDaysByFirstWeekday=function(e){var t=new Array;t.push(e);var n=new Date(e);while(n.getDate()+7<=this.DaysInMonth(e.getFullYear(),e.getMonth()+1))n=new Date(n.getFullYear(),n.getMonth(),n.getDate()+7),t.push(n);return t},e.AddMilliseconds=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());return n.setMilliseconds(n.getMilliseconds()+t),new Date(n.valueOf())},e.GetWeekIndexByDate=function(e){return Math.floor(e.getDate()/7)},e.EraDates=new Array(new Date(1868,8,8),new Date(1912,6,30),new Date(1926,11,25),new Date(1989,0,8)),e.EraCount=4,e.EraYears=new Array(45,15,64,99),e.EraMax=new Date(2087,11,31,23,59,59),e.EraMin=new Date(1868,8,8),e.EraKeys=new Array("1","2","3","4","m","t","s","h"),e.EraIndices=new Array(0,1,2,3,0,1,2,3),e.DateLongFormat="yyyyMMddHHmmss",e.EraNames=new Array("M","T","S","H","\u660e","\u5927","\u662d","\u5e73","\u660e\u6cbb","\u5927\u6b63","\u662d\u548c","\u5e73\u6210"),e.WeekDays=new Array("\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"),e.MonthNames=new Array("1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"),e.ShortWeekDays=new Array("\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"),e.ShortMonthNames=new Array("1","2","3","4","5","6","7","8","9","10","11","12"),e.RokuyouTextArray=new Array("\u5148\u52dd","\u53cb\u5f15","\u5148\u8ca0","\u4ecf\u6ec5","\u5927\u5b89","\u8d64\u53e3"),e.RokuyouTextArrayEn=new Array("Senshou","Tomobiki","Senbu","Butsumetsu","Taian","Shakkou"),e.DefaultTwoDigitYear=2029,e.Digits=2,e.EraYearMax=99,e.RokuyouMin=new Date(1960,0,28),e.RokuyouMax=new Date(2050,0,22),e.LunarInfo=new Array(44710,43856,19808,43748,42352,21104,29283,55632,27479,22176,39632,19925,19168,42208,54484,53840,54680,46400,54944,103846,38320,18864,43444,42160,45690,27216,27968,46934,11104,38320,19317,18800,25776,29859,59984,28056,21968,11104,38629,37600,51552,59732,54432,55888,30034,22208,43959,9680,37584,51893,43344,46240,111779,46416,21977,19360,42416,21877,21168,43344,47444,27296,44368,27474,19296,42726,42352,21104,27237,55600,23200,46755,38608,19415,19168,42192,118998,53840,54560,56645,46752,38608,21938,18864,42359,42160,45648,111189,27968,44448),e}();t.DateTimeInfo=V;var $=function(){function e(e,t,n){this.inputWidget=e,this.maskPartsCount=0,this.isDisplayFormat=!0,this.pattern="M/d/yyyy",this.descriptors=new Array(0),this.desPostions=new Array(0),this.fields=new Array(0),this.isDisplayFormat=n,this._setFormat(t)}return e.prototype._parseFormat=function(e){var t=[],n="",r="",i=!1,s=!1,o,u;for(o=0;o<e.length;o++){u=e.charAt(o);if(s){t.push(this.createDescriptor(-1,u)),n="",s=!1;continue}if(u==="\\"){s=!0,n.length>0&&(this.handlePattern(n,t)||t.push(this.createDescriptor(-1,r)),n="");continue}if(u==="'"){i?(i=!1,n=""):(i=!0,n.length>0&&(this.handlePattern(n,t)||t.push(this.createDescriptor(-1,r)),n=""));continue}if(i){t.push(this.createDescriptor(-1,u)),n="";continue}o||(r=u),r!==u&&n.length>0&&(this.handlePattern(n,t)||t.push(this.createDescriptor(-1,r)),n=""),n+=u,r=u}return n.length>0&&(this.handlePattern(n,t)||t.push(this.createDescriptor(-1,r))),t},e.prototype._parseFormatToPattern=function(e){var t=this.inputWidget._getCulture().calendar,n=t.patterns.d;if(e.length<=1)switch(e){case"":case"d":n=t.patterns.d;break;case"D":n=t.patterns.D;break;case"f":n=t.patterns.D+" "+t.patterns.t;break;case"F":n=t.patterns.D+" "+t.patterns.T;break;case"g":n=t.patterns.d+" "+t.patterns.t;break;case"G":n=t.patterns.d+" "+t.patterns.T;break;case"m":n=t.patterns.M;break;case"M":n=t.patterns.M;break;case"s":n=t.patterns.S;break;case"t":n=t.patterns.t;break;case"T":n=t.patterns.T;break;case"u":n=t.patterns.S;break;case"U":n=t.patterns.D+" "+t.patterns.T;break;case"y":n=t.patterns.Y;break;case"Y":n=t.patterns.Y;break;case"r":case"R":n="ddd, dd MMM yyyy HH:mm:ss G\\M\\T";break;case"E":n="E"}else n=e;return n},e.prototype.createDescriptor=function(e,t){var n=null,r=this.maskPartsCount++;switch(e){case-1:n=new s(this,r),n.liternal=t;break;case 20:n=new m(this,r);break;case 25:n=new g(this,r);break;case 26:n=new y(this,r);break;case 27:n=new b(this,r);break;case 30:n=new E(this,r);break;case 31:n=new S(this,r);break;case 100:n=new x(this,r);break;case 101:n=new T(this,r);break;case 10:n=new k(this,r);break;case 1:n=new L(this,r);break;case 2:n=new A(this,r);break;case 45:n=new _(this,r);break;case 46:n=new D(this,r);break;case 47:n=new H(this,r);break;case 48:n=new B(this,r);break;case 250:n=new F(this,r);break;case 251:n=new I(this,r);break;case 50:n=new R(this,r);break;case 51:n=new U(this,r);break;case 60:n=new W(this,r);break;case 61:n=new X(this,r);break;case 70:n=new u(this,r);break;case 71:n=new a(this,r);break;case 72:n=new c(this,r);break;case 73:n=new h(this,r);break;case 74:n=new p(this,r);break;case 75:n=new f(this,r);break;case 80:n=new d(this,r);break;default:}return n},e.prototype.handlePattern=function(e,t){var n=new RegExp("y{3,10}"),r=n.test(e);if(r)return this.inputWidget&&this.inputWidget.options.cultureCalendar==="Japanese"?(t.push(this.createDescriptor(71)),!0):(t.push(this.createDescriptor(10)),!0);n=new RegExp("y{2,2}"),r=n.test(e);if(r)return this.inputWidget&&this.inputWidget.options.cultureCalendar==="Japanese"?(t.push(this.createDescriptor(71)),!0):(t.push(this.createDescriptor(2)),!0);n=new RegExp("y{1,1}"),r=n.test(e);if(r)return this.inputWidget&&this.inputWidget.options.cultureCalendar==="Japanese"?(t.push(this.createDescriptor(70)),!0):(t.push(this.createDescriptor(1)),!0);n=new RegExp("d{4,4}"),r=n.test(e);if(r)return t.push(this.createDescriptor(101)),!0;n=new RegExp("d{3,3}"),r=n.test(e);if(r)return t.push(this.createDescriptor(100)),!0;n=new RegExp("d{2,2}"),r=n.test(e);if(r)return t.push(this.createDescriptor(30)),!0;n=new RegExp("d{1,1}"),r=n.test(e);if(r)return t.push(this.createDescriptor(31)),!0;n=new RegExp("M{4,4}"),r=n.test(e);if(r)return t.push(this.createDescriptor(27)),!0;n=new RegExp("M{3,3}"),r=n.test(e);if(r)return t.push(this.createDescriptor(26)),!0;n=new RegExp("M{2,2}"),r=n.test(e);if(r)return t.push(this.createDescriptor(20)),!0;n=new RegExp("M{1,1}"),r=n.test(e);if(r)return t.push(this.createDescriptor(25)),!0;n=new RegExp("h{2,2}"),r=n.test(e);if(r)return t.push(this.createDescriptor(46)),!0;n=new RegExp("h{1,1}"),r=n.test(e);if(r)return t.push(this.createDescriptor(45)),!0;n=new RegExp("H{2,2}"),r=n.test(e);if(r)return t.push(this.createDescriptor(48)),!0;n=new RegExp("H{1,1}"),r=n.test(e);if(r)return t.push(this.createDescriptor(47)),!0;n=new RegExp("m{2,2}"),r=n.test(e);if(r)return t.push(this.createDescriptor(50)),!0;n=new RegExp("m{1,1}"),r=n.test(e);if(r)return t.push(this.createDescriptor(51)),!0;n=new RegExp("s{2,2}"),r=n.test(e);if(r)return t.push(this.createDescriptor(60)),!0;n=new RegExp("s{1,1}"),r=n.test(e);if(r)return t.push(this.createDescriptor(61)),!0;n=new RegExp("t{2,2}"),r=n.test(e);if(r)return t.push(this.createDescriptor(251)),!0;n=new RegExp("t{1,1}"),r=n.test(e);if(r)return t.push(this.createDescriptor(250)),!0;n=new RegExp("e{2,10}"),r=n.test(e);if(r)return t.push(this.createDescriptor(71)),!0;n=new RegExp("e{1,1}"),r=n.test(e);if(r)return t.push(this.createDescriptor(70)),!0;n=new RegExp("g{3,10}"),r=n.test(e);if(r)return t.push(this.createDescriptor(74)),!0;n=new RegExp("g{2,2}"),r=n.test(e);if(r)return this.inputWidget&&this.inputWidget.options.cultureCalendar==="Japanese"?(t.push(this.createDescriptor(74)),!0):(t.push(this.createDescriptor(73)),!0);n=new RegExp("g{1,1}"),r=n.test(e);if(r)return this.inputWidget&&this.inputWidget.options.cultureCalendar==="Japanese"?(t.push(this.createDescriptor(74)),!0):(t.push(this.createDescriptor(72)),!0);if(this.isDisplayFormat){n=new RegExp("E{1,10}"),r=n.test(e);if(r)return t.push(this.createDescriptor(75)),!0;n=new RegExp("A{1,1}"),r=n.test(e);if(r)return t.push(this.createDescriptor(80)),!0}return!1},e.prototype.daysInMonth=function(e,t){e-=1;var n=(new Date(t,++e,1,-1)).getDate();return n},e.prototype._isDigitString=function(e){e=Q.trim(e);if(e.length===0)return!0;var t=e.charAt(0),n,r;if(t==="+"||t==="-")e=e.substr(1),e=Q.trim(e);if(e.length===0)return!0;try{return n=parseFloat(e),r=n.toString(),r===e}catch(i){return!1}},e.prototype._internalSetDate=function(e){this.inputWidget&&this.inputWidget._internalSetDate(e)},e.prototype._isValidDate=function(e){return this.inputWidget._isValidDate(e)},e.prototype._setFormat=function(e){var t=this.inputWidget._getCulture();if(t==null)return;this.pattern=this._parseFormatToPattern(e),this.descriptors=this._parseFormat(this.pattern),this.fields=Q.grep(this.descriptors,function(e){return e.type!==-1})},e.prototype._isEraFormatExist=function(){for(var e=0;e<this.descriptors.length;e++)if(this.descriptors[e].type>=70&&this.descriptors[e].type<=75)return!0;return!1},e.prototype.getDate=function(){return this.inputWidget?new Date(this.inputWidget._safeGetDate(!0).getTime()):undefined},e.prototype.setDate=function(e){this.inputWidget&&this.inputWidget._setData(e)},e.prototype.getYear=function(){return this.getDate().getFullYear()},e.prototype.setYear=function(e,t,n){try{t&&t.isfullreset&&(t.offset=1,e="1970");if(typeof e=="string"&&!this._isDigitString(e))return!1;e*=1;var r=this.inputWidget.options,i=1,s=9999,o,u,a;n&&(r.minDate&&(i=Math.max(i,r.minDate.getFullYear())),r.maxDate&&(s=Math.min(s,r.maxDate.getFullYear()))),t&&t.isreset&&(e=i),e<i&&(e=i),e>s&&(e=s),o=this.getDate(),u=new Date(o.getTime()),u.setFullYear(e);if(this._isValidDate(u))return a=this.daysInMonth(this.getMonth(),this.getYear()),a===o.getDate()?(u=new Date(o.getTime()),u.setDate(1),u.setFullYear(e),u.setDate(a),this._isValidDate(u)?(this._internalSetDate(u),!0):!1):(o.setFullYear(e),this._internalSetDate(o),!0);return t&&t.isreset?(o.setFullYear(1),this._internalSetDate(o),!0):!1}catch(f){return!1}},e.prototype.getMonth=function(){return this.getDate().getMonth()+1},e.prototype.setMonth=function(e,t,n){try{n&&n.isfullreset&&(e="1"),e*=1;var r=this.getDate(),i,s;if(typeof t!="undefined"&&!t)if(e>12||e<1){if(!n||!n.isreset)return!1;e=1}return i=this.daysInMonth(this.getMonth(),this.getYear()),i===this.getDate().getDate()?(s=new Date(r.getTime()),s.setDate(1),s.setMonth(e-1),i=this.daysInMonth(s.getMonth()+1,s.getFullYear()),s.setDate(i),this._isValidDate(s)?(this._internalSetDate(s),!0):!1):(s=new Date(r.getTime()),s.setMonth(e-1),this._isValidDate(s)?(this._internalSetDate(s),!0):!1)}catch(o){return!1}},e.prototype.getHours=function(){return this.getDate().getHours()},e.prototype.setHours=function(e,t){try{e*=1;if(typeof t!="undefined"&&!t&&e>24)return!1;var n=new Date(this.getDate().getTime());return n.setHours(e),this._isValidDate(n)?(this._internalSetDate(n),!0):!1}catch(r){return!1}},e.prototype.getMinutes=function(){return this.getDate().getMinutes()},e.prototype.setMinutes=function(e,t){try{e*=1;if(typeof t!="undefined"&&!t&&e>60)return!1;var n=new Date(this.getDate().getTime());return n.setMinutes(e),this._isValidDate(n)?(this._internalSetDate(n),!0):!1}catch(r){return!1}},e.prototype.getSeconds=function(){return this.getDate().getSeconds()},e.prototype.setSeconds=function(e,t){try{e*=1;if(typeof t!="undefined"&&!t&&e>60)return!1;var n=new Date(this.getDate().getTime());return n.setSeconds(e),this._isValidDate(n)?(this._internalSetDate(n),!0):!1}catch(r){return!1}},e.prototype.getDayOfMonth=function(){return this.getDate().getDate()},e.prototype.setDayOfMonth=function(e,t,n){try{if(n&&n.isfullreset)return this.setDayOfMonth(1,t);var r=this.getDate(),i,s;e*=1;if(typeof t!="undefined"&&!t){i=this.daysInMonth(this.getMonth(),this.getYear());if(e>i||e<1)return n&&n.isreset?this.setDayOfMonth(1,t,n):!1}return s=new Date(r.getTime()),s.setDate(e),this._isValidDate(s)?(this._internalSetDate(s),!0):!1}catch(o){return!1}},e.prototype.getDayOfWeek=function(){return this.getDate().getDay()+1},e.prototype.setDayOfWeek=function(e){try{e*=1;var t=e-this.getDayOfWeek();return this.setDayOfMonth(this.getDayOfMonth()+t,!0)}catch(n){return!1}},e.prototype._getCulture=function(){return this.inputWidget._getCulture()},e.prototype.findAlikeArrayItemIndex=function(e,t){var n=-1,r=99999,i,s;for(i=0;i<e.length;i++)s=e[i].toLowerCase().indexOf(t.toLowerCase()),s!==-1&&s<r&&(r=s,n=i);return n},e.prototype.toString=function(){if(this._isEraFormatExist()&&this.inputWidget.options.date!=null){var e=this.inputWidget._getRealEraMinDate(),t=this.inputWidget._getRealEraMaxDate();if(this.inputWidget.options.date<e||this.inputWidget.options.date>t)return""}var n="",r=0,i,s,o;this.desPostions=new Array(0);for(i=0;i<this.descriptors.length;i++){this.descriptors[i].startIndex=n.length,s=this.descriptors[i].getText(),n+=s;for(o=0;o<s.length;o++){this.desPostions.push({desc:this.descriptors[i],pos:o,text:s,length:s.length}),r++;if(this.desPostions.length!==r)throw"Fatal Error !!!!!!!!!!!!!!!"}}return n},e}();t.wijDateTextFormatter=$;var J=function(){function e(e){this.options=e,e.format=e.format||"M/d/yyyy",e.amDesignator=e.amDesignator||"",e.pmDesignator=e.pmDesignator||"",e.hour12As0===undefined&&(e.hour12As0=!1),e.midnightAs0===undefined&&(e.midnightAs0=!0)}return e.prototype._getInnerIncrement=function(){return 1},e.prototype._getCulture=function(){return Globalize.findClosestCulture(this.options.culture)},e.prototype._getRealEraMaxDate=function(){return this.options.maxDate?V.GetEraMax()<this.options.maxDate?V.GetEraMax():this.options.maxDate:V.GetEraMax()},e.prototype._getRealEraMinDate=function(){return this.options.minDate?V.GetEraMin()>this.options.minDate?V.GetEraMin():this.options.minDate:V.GetEraMin()},e.prototype._safeGetDate=function(e){var t=this.options.date;return t==null&&(t=new Date),e||(t=this._checkRange(t)),t},e.prototype._safeSetDate=function(e,t){var n=e;return t||(e=this._checkRange(e)),isNaN(e)&&(e=n),this.options.date=e,!0},e.prototype._getAllowSpinLoop=function(){return!1},e.prototype._getRealMinDate=function(){if(this.options.minDate)return this.options.minDate;var e=new Date(1,0,1,0,0,0);return e.setFullYear(1),e},e.prototype._getRealMaxDate=function(){return this.options.maxDate?this.options.maxDate:new Date(9999,11,31,23,59,59)},e.prototype._setData=function(e){this.options.date=e},e.prototype._isValidDate=function(e,t){if(e===undefined)return!1;if(isNaN(e))return!1;if(e.getFullYear()<1||e.getFullYear()>9999)return!1;if(t){if(this.options.minDate&&e<this.options.minDate)return!1;if(this.options.maxDate&&e>this.options.maxDate)return!1}return!0},e.prototype._getInnerAmDesignator=function(){return this.options.amDesignator==""?this._getStandardAMPM("AM"):this.options.amDesignator},e.prototype._getInnerPmDesignator=function(){return this.options.pmDesignator==""?this._getStandardAMPM("PM"):this.options.pmDesignator},e.prototype.isFocused=function(){return!1},e.prototype._internalSetDate=function(e){},e.prototype._checkRange=function(e){return e&&(this.options.minDate&&e<this.options.minDate&&(e=new Date(Math.max(this.options.minDate.valueOf(),e.valueOf()))),this.options.maxDate&&e>this.options.maxDate&&(e=new Date(Math.min(this.options.maxDate.valueOf(),e.valueOf())))),e},e.prototype._getStandardAMPM=function(e){var t=this._getCulture();if(t&&t.calendar){var n=t.calendars.standard[e];if(n)return n[0]}return e},e}();t.wijInputDateImpl=J;var Q=jQuery;Q.wijinputcore=Q.wijinputcore||{},Q.wijinputcore.formatdate=Q.wijinputcore.formatdate||K,Q.wijinputcore.parseDate=Q.wijinputcore.parseDate||G,Q.wijinputcore.validateDate=Q.wijinputcore.validateDate||tt})(t.input||(t.input={}));var n=t.input})(wijmo||(wijmo={}))});