var wijmo;define(["./wijmo.wijinputcore","./wijmo.wijinputdateformat"],function(){(function(e){(function(e){var t=function(){function t(e){this._owner=e}return t.prototype._initDatePicker=function(){var t=this._owner.element.data("datePicker");if(t!=undefined)return;var n=this,r=this._owner.element.data("pickerMinYear"),i=this._owner.element.data("pickerMaxYear"),s=this._owner.element.data("itemHeight")*5,o=this._owner.element.data("pickerWidth"),u=this._owner.element.data("itemHeight")+"px",a=this._owner.element.data("indicatorHeight")+"px",f=this._owner.element.data("indicatorTranslateTop"),l=this._owner.element.data("indicatorTranslateDown"),c=this._owner.element.data("indicatorTranslateSelector"),h=this._owner.element.data("indicatorTranslateContent"),p=this._createDivElement(document.body,o+"px"),d=this._createDivIndicatiorElement(p,u,"",c),v=this._createTableElement(p,s+"px","-",h),m=$("<tr/>").appendTo(v),g="33%",y="33%",b="33%";this._owner.element.data("pickerDateMonthFormat")=="MMMM"&&(g="30%",y="45%",b="25%");var w=$("<td/>").css({width:g}),E=this._createPickerDivElement(w,s),S=this._createMaskElement(E,s),x=new Array;for(var T=r;T<=i;T++){var N=this._getRollText(T,this._owner.element.data("pickerDateYearFormat")),C=this._createItemElement(T,S,u,N);x[T-r]=C}var k=$("<td/>").css({width:y}),L=this._createPickerDivElement(k,s),A=this._createMaskElement(L,s),O={},T;for(T=1;T<=12;T++){var N=this._getRollText(T,this._owner.element.data("pickerDateMonthFormat")),C=this._createItemElement(T-1,A,u,N);O[T-1]=C}var M=$("<td/>").css({width:b}),_=this._createPickerDivElement(M,s),D=this._createMaskElement(_,s),P={};for(T=1;T<=31;T++){var N=this._getRollText(T,this._owner.element.data("pickerDateDayFormat")),C=this._createItemElement(T,D,u,N);P[T-1]=C}var H=this._owner.element.data("pickerDateFormat"),B=!1,j=!1,F=!1;for(T=0;T<H.length;T++)H[T]=="yyyy"&&!B&&(w.appendTo(m),B=!0),(H[T]=="M"||H[T]=="MM"||H[T]=="MMM"||H[T]=="MMMM")&&!j&&(k.appendTo(m),j=!0),(H[T]=="d"||H[T]=="dd")&&!F&&(M.appendTo(m),F=!0);this._owner.element.data("datePicker",p),this._owner.element.data("divYear",E),this._owner.element.data("divMonth",L),this._owner.element.data("divDay",_),this._owner.element.data("divYearMask",S),this._owner.element.data("divMonthMask",A),this._owner.element.data("divDayMask",D),this._owner.element.data("pickerYearArray",x),this._owner.element.data("pickerMonthArray",O),this._owner.element.data("pickerDayArray",P);if(!e.CoreUtility.IsIE8OrBelow()){var I=this._createIndicatiorElement(E,a,"-",f),q=this._createIndicatiorElement(E,a,"-",l),R=this._createIndicatiorElement(L,a,"-",f),U=this._createIndicatiorElement(L,a,"-",l),z=this._createIndicatiorElement(_,a,"-",f),W=this._createIndicatiorElement(_,a,"-",l);this._owner.element.data("divYearIndicatorTop",I),this._owner.element.data("divMonthIndicatorTop",R),this._owner.element.data("divDayIndicatorTop",z),this._owner.element.data("divYearIndicatorDown",q),this._owner.element.data("divMonthIndicatorDown",U),this._owner.element.data("divDayIndicatorDown",W)}this._initDatePickerEvent(),this._initTouchPickerEvent("Year"),this._initTouchPickerEvent("Month"),this._initTouchPickerEvent("Day")},t.prototype._initDatePickerEvent=function(){var e=this,t=this._owner.element.data("divYear"),n=this._owner.element.data("divMonth"),r=this._owner.element.data("divDay");t.mousewheel(function(t,n){e._yearMouseWheel(t,n)}),n.mousewheel(function(t,n){e._monthMouseWheel(t,n)}),r.mousewheel(function(t,n){e._dayMouseWheel(t,n)})},t.prototype._initTimePicker=function(){var t=this._owner.element.data("timePicker");if(t!=undefined)return;var n=this,r=this._owner.element.data("itemHeight")*5,i=this._owner.element.data("pickerWidth"),s=this._owner.element.data("itemHeight")+"px",o=this._owner.element.data("indicatorHeight")+"px",u=this._owner.element.data("indicatorTranslateTop"),a=this._owner.element.data("indicatorTranslateDown"),f=this._owner.element.data("indicatorTranslateSelector"),l=this._owner.element.data("indicatorTranslateContent"),c=this._createDivElement(document.body,i+"px"),h=this._createDivIndicatiorElement(c,s,"",f),p=this._createTableElement(c,r+"px","-",l),d=$("<tr/>").appendTo(p),v=$("<td/>").css({width:"33%"}),m=this._createPickerDivElement(v,r),g=this._createMaskElement(m,r),y={};for(var b=1;b<=12;b++){var w=this._getRollText(b,this._owner.element.data("pickerTimeHourFormat")),E=this._createItemElement(b,g,s,w);y[b-1]=E}var S=$("<td/>").css({width:"33%"}),x=this._createPickerDivElement(S,r),T=this._createMaskElement(x,r),N={};for(var b=0;b<60;b++){var w=this._getRollText(b,this._owner.element.data("pickerTimeMinuteFormat")),E=this._createItemElement(b,T,s,w);N[b]=E}var C=$("<td/>").css({width:"34%"}),k=this._createPickerDivElement(C,r),L=this._createMaskElement(k,r),A={};for(var b=0;b<2;b++){var w=this._getRollText(b,this._owner.element.data("pickerTimeAMFormat")),E=this._createItemElement(b,L,s,w);A[b]=E}var O=this._owner.element.data("pickerTimeFormat"),M=!1,_=!1,D=!1;for(var b=0;b<O.length;b++)(O[b]=="h"||O[b]=="hh")&&!M&&(v.appendTo(d),M=!0),(O[b]=="m"||O[b]=="mm")&&!_&&(S.appendTo(d),_=!0),(O[b]=="t"||O[b]=="tt")&&!D&&(C.appendTo(d),D=!0);this._owner.element.data("timePicker",c),this._owner.element.data("divHour",m),this._owner.element.data("divMinute",x),this._owner.element.data("divAM",k),this._owner.element.data("divHourMask",g),this._owner.element.data("divMinuteMask",T),this._owner.element.data("divAMMask",L),this._owner.element.data("pickerHourArray",y),this._owner.element.data("pickerMinuteArray",N),this._owner.element.data("pickerAMArray",A);if(!e.CoreUtility.IsIE8OrBelow()){var P=this._createIndicatiorElement(m,o,"-",u),H=this._createIndicatiorElement(m,o,"-",a),B=this._createIndicatiorElement(x,o,"-",u),j=this._createIndicatiorElement(x,o,"-",a),F=this._createIndicatiorElement(k,o,"-",u),I=this._createIndicatiorElement(k,o,"-",a);this._owner.element.data("divHourIndicatorTop",P),this._owner.element.data("divMinuteIndicatorTop",B),this._owner.element.data("divAMIndicatorTop",F),this._owner.element.data("divHourIndicatorDown",H),this._owner.element.data("divMinuteIndicatorDown",j),this._owner.element.data("divAMIndicatorDown",I)}this._initTimePickerEvent(),this._initTouchPickerEvent("Hour"),this._initTouchPickerEvent("Minute"),this._initTouchPickerEvent("AM")},t.prototype._initTimePickerEvent=function(){var e=this,t=this._owner.element.data("divHour"),n=this._owner.element.data("divMinute"),r=this._owner.element.data("divAM");t.mousewheel(function(t,n){e._hourMouseWheel(t,n)}),n.mousewheel(function(t,n){e._minuteMouseWheel(t,n)}),r.mousewheel(function(t,n){e._amMouseWheel(t,n)})},t.prototype._isValidatePickerFormat=function(e){switch(e){case"yyyy":case"M":case"MM":case"MMM":case"MMMM":case"d":case"dd":case"h":case"hh":case"m":case"mm":case"t":case"tt":return!0}return!1},t.prototype._getDatePickerMinYear=function(){var e=this._owner._isEraFormatExist()?this._owner._getRealEraMinDate():this._owner._getRealMinDate(),t=e.getFullYear(),n=this._owner._getPickerValue(),r=this._owner._max(n.getFullYear()-50,t);return r},t.prototype._getDatePickerMaxYear=function(){var e=this._owner._isEraFormatExist()?this._owner._getRealEraMaxDate():this._owner._getRealMaxDate(),t=e.getFullYear(),n=this._owner._getPickerValue(),r=this._owner._min(n.getFullYear()+50,t);return r},t.prototype._getCorrentPickerFormat=function(e){for(var t=0;t<e.length-1;t++)for(var n=t+1;n<e.length;n++)if(e[n].index<e[t].index){var r=e[t];e[t]=e[n],e[n]=r}var i="";for(var t=0;t<e.length;t++)i+=e[t].value,t<e.length-1&&(i+=",");return i},t.prototype._getDefaultDatePickerFormat=function(){var e=this._owner._getCulture();if(e==null)return"yyyy,M,d";var t=e.calendars.standard,n=t.patterns.d,r={index:n.indexOf("y"),value:"yyyy"},i={index:n.indexOf("M"),value:"MM"},s={index:n.indexOf("d"),value:"dd"};if(r.index==-1||i.index==-1||s.index==-1)return"yyyy,M,d";var o=new Array;return o[0]=r,o[1]=i,o[2]=s,this._getCorrentPickerFormat(o)},t.prototype._getDefaultTimePickerFormat=function(){if(this._owner.options.culture.length>=2){var e=this._owner.options.culture.substr(0,2);if(e=="ja"||e=="zh")return"tt,hh,mm"}return"hh,mm,tt"},t.prototype._updateTimePicker=function(){var e=this._owner.element.data("pickerHour")-1,t=this._owner.element.data("pickerMinute"),n=this._owner.element.data("pickerAM"),r=this._owner.element.data("divHourMask"),i=this._owner.element.data("divMinuteMask"),s=this._owner.element.data("divAMMask");this._updateItemTransform("Hour",e),this._updateItemTransform("Minute",t),this._updateItemTransform("AM",n),this._scrollTheView("Hour",e,e,!0),this._scrollTheView("Minute",t,t,!0),this._scrollTheView("AM",n,n,!0),this._owner.element.data("pickerHourScrollDelay",5),this._owner.element.data("pickerMinuteScrollDelay",5),this._owner.element.data("pickerAMScrollDelay",5),this._owner.element.data("pickerHourScrollRate",1),this._owner.element.data("pickerMinuteScrollRate",1),this._owner.element.data("pickerAMScrollRate",1)},t.prototype._updateDatePicker=function(){var t=this._owner.element.data("pickerMinYear"),n=this._owner.element.data("pickerYear"),r=this._owner.element.data("pickerMonth"),i=this._owner.element.data("pickerDay"),s=e.DateTimeInfo.DaysInMonth(n,r);this._updateItemTransform("Year",n-t),this._updateItemTransform("Month",r-1),this._updateItemTransform("Day",i-1),this._scrollTheView("Year",n-t,n-t,!0),this._scrollTheView("Month",r-1,r-1,!0),this._scrollTheView("Day",i-1,i-1,!0),this._owner.element.data("pickerYearScrollDelay",5),this._owner.element.data("pickerMonthScrollDelay",5),this._owner.element.data("pickerDayScrollDelay",5),this._owner.element.data("pickerYearScrollRate",1),this._owner.element.data("pickerMonthScrollRate",1),this._owner.element.data("pickerDayScrollRate",1),this._updateDayPickerMaxCount()},t.prototype._getRollText=function(e,t){var n=this._owner._getCulture(),r="";switch(t){case"M":case"h":r=e.toString();break;case"MM":case"hh":r=e<10?"0"+e.toString():e.toString();break;case"m":case"d":case"yyyy":r=e.toString();break;case"mm":case"dd":r=e<10?"0"+e.toString():e.toString();break;case"t":r=e==0?this._owner._getStandardAMPM("AM"):this._owner._getStandardAMPM("PM"),r=r.substr(0,1);break;case"tt":r=e==0?this._owner._getStandardAMPM("AM"):this._owner._getStandardAMPM("PM");break;case"MMM":r=n.calendars.standard.months.namesAbbr[e-1];break;case"MMMM":r=n.calendars.standard.months.names[e-1];break;default:}return r},t.prototype._initTouchPickerEvent=function(t){var n=this._owner.element.data("div"+t),r=this._owner.element.data("div"+t+"Mask");this._addPickerTouchEvent(r,t);if(!e.CoreUtility.IsIE8OrBelow()){var i=this._owner.element.data("div"+t+"IndicatorTop"),s=this._owner.element.data("div"+t+"IndicatorDown");this._addPickerTouchEvent(i,t),this._addPickerTouchEvent(s,t)}},t.prototype._addPickerTouchEvent=function(e,t){var n=this;e.bind("touchstart",function(e){n._touchStart(e,t),e.preventDefault()}).bind("touchmove",function(e){n._touchMove(e,t),e.preventDefault()}).bind("touchend",function(e){n._touchEnd(e,t),e.preventDefault()})},t.prototype._getRollFormat=function(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)!=-1)return e[n];return""},t.prototype._adjustTouchPosition=function(e,t){var n=this._getTouchPositionArray(e),r=this._getItemIndexByPosition(e,t),i=this._itemIndexToValue(e,r);this._owner.element.data("picker"+e,i),this._scrollTheViewByTouch(e,n[r])},t.prototype._itemIndexToValue=function(e,t){switch(e){case"Minute":case"AM":return t;case"Hour":case"Month":case"Day":return t+1;case"Year":var n=this._owner.element.data("pickerMinYear");return n+t}return-1},t.prototype._getItemLength=function(e){switch(e){case"Hour":case"Month":return 12;case"Year":var t=this._owner.element.data("pickerMinYear"),n=this._owner.element.data("pickerMaxYear");return n-t+1;case"Day":return 31;case"Minute":return 60;case"AM":return 2}return-1},t.prototype._updateItemTransform=function(t,n){if(e.CoreUtility.IsIE8OrBelow())return;if(n<0)return;var r=this._owner.element.data("picker"+t+"Array"),i=this._getItemLength(t),s="skew(0deg) scale(1.2, 1.2) translate(0px, 0px)",o="skew(-5deg) scale(0.9, 0.9) translate(0px, 0px)",u="skew(-10deg) scale(0.7, 0.7) translate(0px, 0px)",a="skew(-15deg) scale(0.5, 0.5) translate(0px, 0px)";for(var f=0;f<i;f++)f==n-3?this._setCssTransform(r[f],"",a,!0):f==n-2?this._setCssTransform(r[f],"",u,!0):f==n-1?this._setCssTransform(r[f],"",o,!0):f==n?this._setCssTransform(r[f],"",s,!0):f==n+1?this._setCssTransform(r[f],"",o,!0):f==n+2?this._setCssTransform(r[f],"",u,!0):f==n+3?this._setCssTransform(r[f],"",a,!0):this._setCssTransform(r[f],"","",!0)},t.prototype._updateDayPickerMaxCount=function(){var t=this._owner.element.data("pickerYear"),n=this._owner.element.data("pickerMonth"),r=this._owner.element.data("pickerDay"),i=e.DateTimeInfo.DaysInMonth(t,n);this._owner.element.data("pickerDayMaxCount",i);var s=this._owner.element.data("pickerDayArray");for(var o=29;o<=31;o++){var u=o>i?"none":"";s[o-1].css("display",u)}if(r>i){var a=this._owner.element.data("divDayMask");r=i,this._updateItemTransform("Day",r-1),this._scrollTheView("Day",r-1,null,!1),this._owner.element.data("pickerDay",r)}},t.prototype._getTouchPositionArray=function(e){var t={},n=this._owner.element.data("itemHeight"),r=this._getItemLength(e);for(var i=0;i<r;i++)t[i]=(2-i)*n;return t},t.prototype._getItemIndexByPosition=function(e,t){var n=this._getTouchPositionArray(e),r=this._getItemLength(e);e=="Day"&&r>this._owner.element.data("pickerDayMaxCount")&&(r=this._owner.element.data("pickerDayMaxCount"));var i=-1;for(var s=0;s<r;s++){if(s==0){if(t>n[s]){i=0;break}}else if(t<=n[s-1]&&t>=n[s]){var o=n[s-1]-t,u=t-n[s];i=o>u?s:s-1;break}if(s==r-1&&t<n[s]){i=s;break}}return i},t.prototype._hideItemInIE7=function(t,n){if(!e.CoreUtility.IsIE7())return;var r=this._owner.element.data("picker"+t+"LastItemIndex"),i=this._getItemIndexByPosition(t,n);if(i==r)return;var s=i-2,o=i+2,u=this._owner.element.data("picker"+t+"Array"),a=this._getItemLength(t);for(var f=0;f<a;f++)f>=s&&f<=o?u[f].css("visibility",""):u[f].css("visibility","hidden");this._owner.element.data("picker"+t+"LastItemIndex",i)},t.prototype._scrollTheView=function(e,t,n,r){var i=this._owner.element.data("itemHeight"),s=(2-t)*i;this._owner.element.data("picker"+e+"ScrollTo",s);if(r==1){var o=this._owner.element.data("div"+e+"Mask"),u=s;this._setCssTransform(o,"",u,!1),this._hideItemInIE7(e,u),this._owner.element.data("picker"+e+"ScrollCurrent",u)}else this._scrollPicker(e)},t.prototype._scrollPicker=function(e){var t=this._owner.element.data("div"+e+"Mask"),n=this._owner.element.data("picker"+e+"ScrollTo"),r=this._owner.element.data("picker"+e+"ScrollCurrent"),i=this._owner.element.data("picker"+e+"ScrollDelay");r==undefined&&(r=n,this._setCssTransform(t,"",r,!1),this._owner.element.data("picker"+e+"ScrollCurrent",r));if(n==r||r==undefined)return!1;r+=n>r?1:-1;var s="translate(0,"+r+"px) ";this._setCssTransform(t,"",r,!1),this._hideItemInIE7(e,r),this._owner.element.data("picker"+e+"ScrollCurrent",r);var o=this;return setTimeout(function(){o._scrollPicker(e)},i),!0},t.prototype._scrollTheViewByTouch=function(e,t){var n=this._owner.element.data("itemHeight"),r=this._owner.element.data("picker"+e+"ScrollCurrent"),i=this._owner.element.data("picker"+e+"ScrollTo");this._owner.element.data("picker"+e+"ScrollTo",t),this._scrollPickerByTouch(e)},t.prototype._scrollPickerByTouch=function(e){var t=this._owner.element.data("div"+e+"Mask"),n=this._owner.element.data("picker"+e+"ScrollTo"),r=this._owner.element.data("picker"+e+"ScrollCurrent");r==undefined&&(r=n,this._setCssTransform(t,"",r,!1),this._owner.element.data("picker"+e+"ScrollCurrent",r));if(n==r){this._owner.element.data("picker"+e+"ScrollRate",1),this._owner.element.data("picker"+e+"ScrollDelay",5),this._owner.element.data("touchQuickScroll",!1);if(e=="Month"||e=="Year")this._updateDayPickerMaxCount();else if(e=="Hour"){var i=this._getItemIndexByPosition(e,r),s=this._owner.element.data("pickerAM");i==11?s==0&&(s=1,this._updateItemTransform("AM",s),this._scrollTheView("AM",s,0,!1),this._owner.element.data("pickerAM",s)):s==1&&(s=0,this._updateItemTransform("AM",s),this._scrollTheView("AM",s,1,!1),this._owner.element.data("pickerAM",s))}return!1}var o=this._owner.element.data("itemHeight"),u=this._owner.element.data("picker"+e+"ScrollDelay"),a=this._owner.element.data("picker"+e+"ScrollRate"),f=Math.abs(n-r),l=f>a?a:f;this._owner.element.data("touchQuickScroll")==1&&(f<o?u=80:f<o*2?u=50:f<o*5?u=30:f<o*8?u=20:f<o*10&&(u=10),this._owner.element.data("picker"+e+"ScrollDelay",u)),r+=n>r?l:-1*l,this._setCssTransform(t,"",r,!1),this._owner.element.data("picker"+e+"ScrollCurrent",r);var i=this._getItemIndexByPosition(e,r),c=this._owner.element.data("picker"+e+"LastItemIndex");i!=c&&this._updateItemTransform(e,i),this._owner.element.data("picker"+e+"LastItemIndex",c);var h=this;return setTimeout(function(){h._scrollPickerByTouch(e)},u),!0},t.prototype._touchStart=function(e,t){var n=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],r=n.clientY;this._owner.element.data("touch"+t+"StartY",r),this._owner.element.data("touch"+t+"BaseY",this._owner.element.data("picker"+t+"ScrollCurrent")),this._owner.element.data("touch"+t+"Started",!0),this._owner.element.data("touchStartTime",new Date);var i=this._owner.element.data("picker"+t+"ScrollCurrent");this._owner.element.data("picker"+t+"ScrollTo",i)},t.prototype._touchMove=function(e,t){if(!this._owner._allowEdit())return;if(this._owner.element.data("touch"+t+"Started")!=1)return;var n=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],r=n.clientY,i=this._owner.element.data("touch"+t+"StartY"),s=this._owner.element.data("touch"+t+"BaseY"),o=s+r-i;this._scrollTheViewByTouch(t,o)},t.prototype._touchEnd=function(e,t){var n=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],r=this._owner.element.data("touch"+t+"StartY"),i=this._owner.element.data("touch"+t+"BaseY"),s=n.clientY-r,o=i+s;if(Math.abs(s)<10){var u=this._owner.element.data("picker"+t+"ScrollCurrent");this._owner.element.data("picker"+t+"ScrollTo",u),this._adjustTouchPosition(t,u);return}this._owner.element.data("touch"+t+"StartY",-1),this._owner.element.data("touch"+t+"BaseY",-1),this._owner.element.data("touch"+t+"Started",!1);var a=new Date,f=a-this._owner.element.data("touchStartTime");if(f<200){var l=this._owner.element.data("itemHeight")*5,c=s<0?-1:1;s*=4,s=Math.abs(s)<l?c*l:s,o+=s,this._owner.element.data("touchQuickScroll",!0),this._owner.element.data("picker"+t+"ScrollRate",3)}this._adjustTouchPosition(t,o)},t.prototype._yearMouseWheel=function(e,t){if(!this._owner._allowEdit())return;if(isNaN(t))return;var n=this._owner.element.data("pickerMinYear"),r=this._owner.element.data("pickerMaxYear"),i=this._owner.element.data("pickerYear"),s=this._owner.element.data("pickerYear");i-=t,i=i<n?n:i,i=i>r?r:i,this._updateItemTransform("Year",i-n),this._scrollTheView("Year",i-n,s-n,!1),this._owner.element.data("pickerYear",i),this._updateDayPickerMaxCount(),e.preventDefault&&e.preventDefault()},t.prototype._monthMouseWheel=function(e,t){if(!this._owner._allowEdit())return;if(isNaN(t))return;var n=this._owner.element.data("pickerMonth"),r=this._owner.element.data("pickerMonth");n-=t,n=n<1?1:n,n=n>12?12:n,this._updateItemTransform("Month",n-1),this._scrollTheView("Month",n-1,r,!1),this._owner.element.data("pickerMonth",n),this._updateDayPickerMaxCount(),e.preventDefault&&e.preventDefault()},t.prototype._dayMouseWheel=function(e,t){if(!this._owner._allowEdit())return;if(isNaN(t))return;var n=this._owner.element.data("pickerDayMaxCount"),r=this._owner.element.data("pickerDay"),i=this._owner.element.data("pickerDay");i-=t,i=i<1?1:i,i=i>n?n:i,this._updateItemTransform("Day",i-1),this._scrollTheView("Day",i-1,r-1,!1),this._owner.element.data("pickerDay",i),e.preventDefault&&e.preventDefault()},t.prototype._hourMouseWheel=function(e,t){if(!this._owner._allowEdit())return;if(isNaN(t))return;var n=this._owner.element.data("pickerHour"),r=this._owner.element.data("pickerHour"),i=r;r-=t,r=r<1?1:r,r=r>12?12:r;var s=this._owner.element.data("pickerAM");r==12?s==0&&(s=1,this._updateItemTransform("AM",s),this._scrollTheView("AM",s,0,!1),this._owner.element.data("pickerAM",s)):i==12&&s==1&&(s=0,this._updateItemTransform("AM",s),this._scrollTheView("AM",s,1,!1),this._owner.element.data("pickerAM",s)),this._updateItemTransform("Hour",r-1),this._scrollTheView("Hour",r-1,n-1,!1),this._owner.element.data("pickerHour",r),e.preventDefault&&e.preventDefault()},t.prototype._minuteMouseWheel=function(e,t){if(!this._owner._allowEdit())return;if(isNaN(t))return;var n=this._owner.element.data("pickerMinute"),r=this._owner.element.data("pickerMinute");r-=t,r=r<0?0:r,r=r>59?59:r,this._updateItemTransform("Minute",r),this._scrollTheView("Minute",r,n,!1),this._owner.element.data("pickerMinute",r),e.preventDefault&&e.preventDefault()},t.prototype._amMouseWheel=function(e,t){if(!this._owner._allowEdit())return;if(isNaN(t))return;var n=$(e.currentTarget).data("pickerAM"),r=this._owner.element.data("pickerAM");r-=t,r=r<0?0:r,r=r>1?1:r,this._updateItemTransform("AM",r),this._scrollTheView("AM",r,n,!1),this._owner.element.data("pickerAM",r),e.preventDefault&&e.preventDefault()},t.prototype._createDivElement=function(e,t){var n=$("<div/>").appendTo(e).css({width:t+"px",display:"block",left:"",top:"",position:""}).bind("touchstart",function(e){e.preventDefault()}).bind("touchmove",function(e){e.preventDefault()});return n},t.prototype._createDivIndicatiorElement=function(e,t,n,r){var i=$("<div/>").appendTo(e).css({height:t,opacity:"0.5",lineHeight:t,margin:"0px",cursor:"default"}).attr("class","ui-state-active");return this._setCssTransform(i,n,r,!1),i},t.prototype._createIndicatiorElement=function(e,t,n,r){var i=$("<div/>").appendTo(e).css({height:t,opacity:"0.5",lineHeight:t,"border-width":"0px",cursor:"default"}).attr("class","ui-widget-content");return this._setCssTransform(i,n,r,!1),i},t.prototype._setCssTransform=function(t,n,r,i){var s=r;i||(s="translate(0, "+n+r+"px)"),t.css("position",""),t.css("top",""),e.CoreUtility.IsIE8OrBelow()?(t.css("position","relative"),t.css("top",n+r+"px")):e.CoreUtility.IsIE9()?t.css("-ms-transform",s):t.css("transform",s)},t.prototype._createTableElement=function(e,t,n,r){var i=$("<table/>").appendTo(e).css({width:"100%",height:t+"px"}).attr({cellspacing:"0px",cellpadding:"0px"});return this._setCssTransform(i,n,r,!1),i},t.prototype._createItemElement=function(e,t,n,r){var i=$("<div/>").appendTo(t).css({height:n,lineHeight:n,cursor:"default"}).html(r).data("rollValue",e);return i},t.prototype._createPickerDivElement=function(e,t){var n=$("<div/>").appendTo(e).css({height:t,border:"0px","text-align":"center",overflow:"hidden",background:"transparent"});return n},t.prototype._createMaskElement=function(e,t){var n=$("<div/>").appendTo(e).css({height:t});return n},t}();e.wijinputdateroller=t})(e.input||(e.input={}));var t=e.input})(wijmo||(wijmo={}))});