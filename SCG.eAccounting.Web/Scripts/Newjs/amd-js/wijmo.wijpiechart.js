var wijmo;define(["./wijmo.wijchartcore"],function(){var e=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};(function(t){(function(n){var r=180,i=360,s=function(t){function n(){t.apply(this,arguments)}return e(n,t),n.prototype._create=function(){this._handleChartStyles(),t.prototype._create.call(this),this.chartElement.addClass(this.options.wijCSS.pieChart)},n.prototype.destroy=function(){var e=this.options.wijCSS,n=this.chartElement,r=n.data("fields"),i=r&&r.sectors,s=r&&r.labels;n.removeClass(e.pieChart),t.prototype.destroy.call(this),i&&i.length&&$.each(i,function(e,t){t=null}),s&&s.length&&$.each(s,function(e,t){t=null}),n.data("fields",null)},n.prototype._isPieChart=function(){return!0},n.prototype.getSector=function(e){var t=this.chartElement.data("fields");return t&&t.chartElements?t.chartElements.sectors[e]:null},n.prototype._bindData=function(){var e=this.options,t=e.dataSource,n=e.data,r=[],i,s,o;t&&n&&(i=n.label,s=n.value,o=n.offset,i&&i.bind&&(i=this._getBindData(t,i.bind)),s&&s.bind&&(s=this._getBindData(t,s.bind)),o&&o.bind&&(o=this._getBindData(t,o.bind)),i&&$.isArray(i)&&i.length&&s&&$.isArray(s)&&s.length&&($.each(s,function(e,t){var n,u=0;e>=0&&e<i.length&&(n=i[e]),o&&$.isArray(s)&&o.length&&e>=0&&e<o.length&&(u=typeof o[e]=="undefined"?0:o[e]),r.push({data:t,label:n,offset:u,legendEntry:!0})}),e.seriesList=r))},n.prototype._hanldSharedXData=function(){},n.prototype._checkSeriesDataEmpty=function(e){return isNaN(e.data)},n.prototype._getSeriesFromTR=function(e,t,n){var r=null,i=null,s=null,o=null,u=null;t.length&&t.each(function(){i=$("th",$(this)),r=$.trim(i.text()),s=$("td",$(this)),s.length&&(o=parseFloat($.trim($(s[0]).text()))),u={label:r,legendEntry:!0,data:o},n.push(u)})},n.prototype._showSerieEles=function(e){var t=this.options.showChartLabels;e.sector&&(e.sector.show(),e.sector.shadow&&e.sector.shadow.show(),e.sector.tracker&&e.sector.tracker.show()),e.label&&t&&(e.label.show(),e.label.connector&&e.label.connector.show(),$(e.label.node).data("legendHide",!1))},n.prototype._hideSerieEles=function(e){e.sector&&(e.sector.hide(),e.sector.shadow&&e.sector.shadow.hide(),e.sector.tracker&&e.sector.tracker.hide()),e.label&&(e.label.hide(),e.label.connector&&e.label.connector.hide(),$(e.label.node).data("legendHide",!0))},n.prototype._hasAxes=function(){return!1},n.prototype._mouseMoveInsidePlotArea=function(e,n){t.prototype._mouseMoveInsidePlotArea.call(this,e,n);if(this.isTapAndHold){var s=this.previousAngle,o=0,u="",a=this.chartElement,f=this.tapTarget?this.tapTarget.data("wijchartDataObj"):{},l=f.pieID||"",c=a.data("fields").chartElements["sectors"+l],h=this.canvasBounds,p=(h.startX+h.endX)/2,d=(h.startY+h.endY)/2,v=Raphael.angle(n.left,n.top,p,d);s&&(o=Math.round(v-s),Math.abs(v-s)>r&&(v>s?o-=i:o+=i),o&&(u=Raphael.format("...r{0},{1},{2}",o,p,d),$.each(c,function(e,t){t.transform(u)}),this.tooltip&&this._setTouchTooltip(null))),this.previousAngle=v}},n.prototype._mouseMoveOutsidePlotArea=function(e,n){t.prototype._mouseMoveOutsidePlotArea.call(this,e,n),this.isTapAndHold&&this._rotateToSectorCenter(null)},n.prototype._rotateToSectorCenter=function(e){var t=this,n=this.options.animation,s=this.chartElement,o=this.tapTarget?this.tapTarget.data("wijchartDataObj"):{},u=o.pieID||"",a=s.data("fields").chartElements["sectors"+u],f=s.data("fields").chartElements["labels"+u],l=this.canvasBounds,c=(l.startX+l.endX)/2,h=(l.startY+l.endY)/2,p,d,v,m=this;this._hideSectorElements(a,f),this.tooltip&&(d=this._getTouchttSector(e)),this.touchttSector&&this.touchttSector===d&&Math.abs(this.targetCenterAngle)>=.01?(this.targetCenterAngle>r?v=this.targetCenterAngle-i:this.targetCenterAngle<-r?v=this.targetCenterAngle+i:v=this.targetCenterAngle,p=Raphael.animation({transform:Raphael.format("...r{0},{1},{2}",v,c,h)},n.duration,n.easing,function(){m._rotateCallback(this,f)}),$.each(a,function(e,t){t.animate(p)})):$.each(a,function(e,n){t._rotateCallback(n,f)}),this.previousAngle=null,this.isTapAndHold=!1,this.tapTarget=null},n.prototype._rotateCallback=function(e,t){var n=this.canvasBounds,r=(n.startX+n.endX)/2,s=(n.startY+n.endY)/2,o=e.index,u=0,a=e.attr("transform"),f,l;$.each(a,function(e,t){if(t[0]!=="r")return!0;t.length>=4&&(u+=t[1])}),f=Raphael.format("r{0},{1},{2}",u,r,s),r>0&&(u%=i,f=Raphael.format("r{0},{1},{2}",u,r,s),e.attr("transform",f)),e.tracker&&(e.tracker.attr("transform",f),e.tracker.show()),e.shadow&&(e.shadow.attr("transform",f),e.shadow.show());if(t&&t.length&&t.length>o){l=t[o],l.attr("transform",Raphael.format("r{0},{1},{2}r{3}",u,r,s,0-u)),l.connector&&l.connector.attr("transform",f);if($(l.node).data("legendHide"))return;l.show(),l.connector&&l.connector.show()}},n.prototype._getTouchttSector=function(e){var t=this,n=this.chartElement,s=this.tapTarget?this.tapTarget.data("wijchartDataObj"):{},o=s.pieID||"",u=n.data("fields").chartElements["sectors"+o],a=this.tooltip.getOptions(),f=a.compass,l=90,c;switch(f){case"east":l=0;break;case"south":l=270;break;case"west":l=r;break;case"north":default:l=90}return $.each(u,function(n,r){var s=r.attr("transform"),o=0,u=r.angles;$.each(s,function(e,t){if(t[0]!=="r")return!0;t.length>=4&&(o+=t[1])}),o%=i,o<0&&(o=i+o),o=(l+o)%i;if(e){if(r===e)return t.targetCenterAngle=(u.start+u.end)/2-o,c=e,!1}else if(u.start<=o&&u.end>=o)return t.targetCenterAngle=(u.start+u.end)/2-o,c=r,!1}),c},n.prototype._setTouchTooltip=function(e){var t=this.tooltip.getOptions(),n=t.compass,r=this._getTouchttSector(e),i=this.options.hint,s=i.title,o=i.content,u=$.isFunction(s),a=$.isFunction(o),f,l;if(!r||this.touchttSector&&this.touchttSector===r)return;f=$(r.node).data("wijchartDataObj"),l={data:f,value:f.value,label:f.label,total:f.total,y:f.value};if(u||a)u&&(t.title=function(){l.fmt=s;var e=$.proxy(l.fmt,l),t=e();return t}),a&&(t.content=function(){l.fmt=o;var e=$.proxy(l.fmt,l),t=e();return t});this._showTouchTooltip(n),this.touchttSector=r},n.prototype._showTouchTooltip=function(e){var t=this.chartElement,n=this.canvasBounds,r={x:0,y:0};switch(e){case"east":r={x:t.width(),y:(n.startY+n.endY)/2};break;case"south":r={x:(n.startX+n.endX)/2,y:t.height()};break;case"west":r={x:0,y:(n.startY+n.endY)/2};break;case"north":default:r={x:(n.startX+n.endX)/2,y:0}}this.tooltip.showAt(r)},n.prototype._isTouchBehaviorEnabled=function(){return this.options.enableTouchBehavior&&this._isTouchEnabled()},n.prototype._mouseDown=function(e,n){var r=$(e.target),i=this.chartElement,s,o,u;t.prototype._mouseDown.call(this,e,n),this._isTouchBehaviorEnabled()&&(this.isTapAndHold=!0,r.data("owner")&&(r=r.data("owner")),this.tapTarget=r,s=n.pieID||"",o=i.data("fields").chartElements["sectors"+s],u=i.data("fields").chartElements["labels"+s],this._hideSectorElements(o,u))},n.prototype._hideSectorElements=function(e,t){$.each(e,function(e,n){n.stop(),n.tracker&&n.tracker.hide(),n.shadow&&n.shadow.hide();if(t&&t.length){var r=t[e];r.hide(),r.connector&&r.connector.hide()}})},n.prototype._mouseUp=function(e,n){t.prototype._mouseUp.call(this,e,n),this._isTouchBehaviorEnabled()&&this.isTapAndHold&&this._rotateToSectorCenter(null)},n.prototype._mouseOver=function(e,n){t.prototype._mouseOver.call(this,e,n)},n.prototype._mouseOut=function(e,n){t.prototype._mouseOut.call(this,e,n)},n.prototype._mouseMove=function(e,n){t.prototype._mouseMove.call(this,e,n)},n.prototype._click=function(e,n){var r=this.chartElement,i,s,o;t.prototype._click.call(this,e,n),this._isTouchBehaviorEnabled()&&this.tooltip&&(i=n.pieID||"",s=r.data("fields").chartElements["sectors"+i],s.length&&s.length>n.index&&(o=s[n.index],this._setTouchTooltip(o),this._rotateToSectorCenter(o)))},n.prototype._paintTooltip=function(){var e=this.options.wijCSS,n=this.chartElement,r=n.data("fields");t.prototype._paintTooltip.call(this),this.tooltip&&r&&(this._isTouchBehaviorEnabled()?(this.tooltip.setOptions({closeBehavior:"none",mouseTrailing:!1,animated:null,showAnimated:null,windowCollisionDetection:"fit"}),this._setTouchTooltip(null),this._rotateToSectorCenter(null)):r.trackers&&r.trackers.length&&(this.tooltip.setSelector($("."+e.canvasObject,n[0])),this.tooltip.setOptions({relatedElement:r.trackers[0]})))},n.prototype._paintPlotArea=function(){var e=this.options,t=this.canvasBounds,n=t.endX-t.startX,r=t.endY-t.startY,i=e.radius;i?(n<2*i&&(i=n/2),r<2*i&&(i=r/2)):i=Math.min(n,r)/2,t.startX+=n/2-i,t.endX=t.startX+2*i,t.startY+=r/2-i,t.endY=t.startY+2*i,this.chartElement.data("fields")&&(this.chartElement.data("fields").seriesEles=null),this.piechartRender=new f(this.chartElement,{canvas:this.canvas,tooltip:this.tooltip,bounds:t,wijCSS:e.wijCSS,radius:i,startAngle:e.startAngle,widgetName:this.widgetName,innerRadius:e.innerRadius,seriesList:e.seriesList,seriesStyles:e.seriesStyles,seriesHoverStyles:e.seriesHoverStyles,seriesTransition:e.seriesTransition,showChartLabels:e.showChartLabels,disabled:this._isDisabled(),textStyle:e.textStyle,chartLabelStyle:e.chartLabelStyle,chartLabelFormatString:e.chartLabelFormatString,chartLabelFormatter:e.chartLabelFormatter,labels:e.labels,shadow:e.shadow,animation:e.animation,culture:this._getCulture(),mouseDown:$.proxy(this._mouseDown,this),mouseUp:$.proxy(this._mouseUp,this),mouseOver:$.proxy(this._mouseOver,this),mouseOut:$.proxy(this._mouseOut,this),mouseMove:$.proxy(this._mouseMove,this),click:$.proxy(this._click,this),widget:this,enableTouchBehavior:e.enableTouchBehavior,availableWidth:n,availableHeight:r,direction:e.direction,isTouchBehaviorEnable:this._isTouchBehaviorEnabled()}),this.piechartRender.render(!e.radius)},n.prototype._getTooltipText=function(e,t){var n=$(t.node),r,i;return n.data("owner")&&(n=n.data("owner")),r=n.data("wijchartDataObj"),i={data:r,value:r.value,label:r.label,total:r.total,target:t,y:r.value,fmt:e},$.proxy(e,i)()},n}(n.wijchartcore);n.wijpiechart=s;var o=function(){function e(){}return e.clockwise="clockwise",e.counterClockwise="counterClockwise",e}(),u=function(t){function n(){t.apply(this,arguments),this.pieChart="wijmo-wijpiechart",this.pieLabel="wijpiechart-label",this.pieElement="wijpiechart",this.pieTracker="pietracker"}return e(n,t),n}(n.wijchartcore_css);n.wijpiechart_css=u;var a=function(n){function r(){n.apply(this,arguments),this.initSelector=":jqmData(role='wijpiechart')",this.wijCSS=new t.chart.wijpiechart_css,this.startAngle=0,this.radius=null,this.innerRadius=0,this.labels={style:{},formatString:"",formatter:null,connectorStyle:{},position:"inside",offset:10},this.animation={enabled:!0,duration:400,easing:"easeInCubic",offset:10},this.seriesTransition={enabled:!0,duration:1e3,easing:"bounce"},this.seriesList=[],this.enableTouchBehavior=!0,this.mouseDown=null,this.mouseUp=null,this.mouseOver=null,this.mouseOut=null,this.mouseMove=null,this.click=null,this.direction=o.counterClockwise}return e(r,n),r}(n.wijchartcore_options);s.prototype.options=$.extend(!0,{},t.wijmoWidget.prototype.options,new a),$.wijmo.registerWidget("wijpiechart",s.prototype);var f=function(){function e(e,t){this.options=t,this.element=e}return e.prototype.render=function(e){var t=this.element,r=this.options,s=function(e,t,i){r.shadow&&n.ChartUtil.paintShadow(e,t,i)},u=n.ChartUtil.getDiffAttrs,a=r.canvas,f=$.wijraphael.getPositionByAngle,l=r.seriesList,c=r.seriesStyles,h=r.seriesHoverStyles,p=c.length,d=r.textStyle,v=r.labels||{style:{},formatString:"",formatter:null,connectorStyle:{},position:"inside",offset:10},m=$.extend(!0,{},d,r.chartLabelStyle,v.style),g=v.formatString||r.chartLabelFormatString,y=v.formatter||r.chartLabelFormatter,b=r.culture,w=r.bounds,E=w.startX,S=w.startY,x=r.radius,T=r.showChartLabels,N=r.animation,C=r.seriesTransition,k=r.innerRadius,L=t.data("fields")||{},A=L.chartElements||{},O=L.aniSectorAttrs,M=L.aniLabelAttrs,_=0,D=r.startAngle||0,P=r.wijCSS,H,B,j,F=[],I=[],q=[],R=[],U=[],z=[],W=a.set(),X=this.options.widget,V=D,J=r.availableWidth,K=r.availableHeight,Q=r.radius,G=r.direction;a.customAttributes.segment=function(e,t,r,s,o,u){var a=null,f=.01;return s-r>i-f?s-=f:s-r<f&&(s+=f),u?a=n.ChartUtil.donut(e,t,o,u,r,s):a=n.ChartUtil.sector(e,t,o,r,s),{path:a}},$.each(l,function(e,t){t&&typeof t.data=="number"&&(_+=Math.abs(t.data))}),e&&T&&v.position==="outside"&&($.each(l,function(e,t){var r,s,o,u,a,l,c=x,h=0,p=0,d=i*Math.abs(t.data)/_,w=d/2+V,E;t=$.extend(!0,{offset:0},t),s=$.extend(!0,{},s,m),t.textStyle&&(s=$.extend(!0,s,t.textStyle)),o=t.label,E=n.ChartUtil.getChartLabel(g,o,b,{index:e,value:t.data,y:t.data,total:_,chartLabelFormatter:y}),o=E.text,M&&C.enabled?e<M.length?(j=M[e],j.text=o,a=X._text.call(X,0,0,""),a.wijAttr(j)):(a=X._text.call(X,0,0,o),a.wijAttr(s)):(a=X._text.call(X,0,0,o),a.wijAttr(s)),l=a.wijGetBBox(),r=f(0,0,t.offset+v.offset+x,w),h=l.width+Math.abs(r.x),p=l.height/2+Math.abs(r.y),h>J/2&&(x=c-(h-J/2)/Math.abs(Math.cos(Raphael.rad(w)))),p>K/2&&(x=Math.min(x,c-(K/2-p)/Math.abs(Math.sin(Raphael.rad(w))))),V+=d,a.remove();if(x<k)return x=k,!1}),x!=Q&&(r.bounds.startX=r.bounds.startX+Q-x,r.bounds.endX=r.bounds.startX+2*x,r.bounds.startY=r.bounds.startY+Q-x,r.bounds.endY=r.bounds.startY+2*x,E=w.startX,S=w.startY)),$.each(l,function(e,t){var r=$.extend({opacity:1,stroke:"gray","stroke-width":1},c[e%p]),l=i*Math.abs(t.data)/_,d=E+x,w=S+x,N,L,A,V,J,K,Q,Y,Z,et=v.position,tt=v.connectorStyle,nt=v.offset,rt,it,st,ot=!1,ut;H=t.pieID;var at,ft,lt=G==o.clockwise;lt?(at=D-l,ft=D-l/2):(at=D+l,ft=D+l/2),t=$.extend(!0,{offset:0},t),t.offset&&(N=f(d,w,t.offset,ft),d=N.x,w=N.y),B=[d,w,D,at,x,k],O&&C.enabled?(r.segment=B,e<O.length?j=O[e]:(j=$.extend(!0,{},r),j.segment=[d,w,0,i,x,k]),L=a.path().attr(j),r=u(j,r),L.removed||L.wijAnimate(r,C.duration,C.easing,function(){s(L,1,"#cccccc"),Q&&!Q.removed&&!L.removed&&Q.attr({path:L.attr("path")}),delete r.segment})):(L=a.path().attr({segment:B}),s(L,1,"#ccccc"),L.wijAttr(r)),L.angles={start:D,end:at},L.index=e,L.getOffset=function(e){var t=f(d,w,e,(L.angles.start+L.angles.end)/2);return{x:t.x-d,y:t.y-w}},L.center={x:d,y:w},L.radius=x,k&&(L.innerRadius=k),Q=L.clone(),Raphael.vml?Q.attr({opacity:.01,fill:"white","stroke-width":0,"fill-opacity":.01}):Q.attr({opacity:.01,fill:"white","fill-opacity":.01}),$.wijraphael.addClass($(Q.node),Raphael.format("{0} {1} {2} wijchart-tracker"+e,P.canvasObject,P.pieElement,P.pieTracker)),$(Q.node).data("owner",$(L.node)),L.tracker=Q,W.push(Q),$.wijraphael.addClass($(L.node),Raphael.format("{0} {1} wijmo-wijpiechart-series-"+e,P.canvasObject,P.pieElement)),$(L.node).data("wijchartDataObj",t),T&&(et==="outside"?(K=f(d,w,x,ft),V=f(d,w,x+nt,ft)):V=f(d,w,t.offset+x*2/3,ft),J=$.extend(!0,{},J,m),t.textStyle&&(J=$.extend(!0,J,t.textStyle)),Y=t.label,ut=n.ChartUtil.getChartLabel(g,Y,b,{index:e,value:t.data,y:t.data,total:_,chartLabelFormatter:y}),Y=ut.text,M&&C.enabled?e<M.length?(ot=!0,j=M[e],j.text=Y,A=X._text.call(X,0,0,""),A.wijAttr(j),J=u(j,J),J.x=V.x,J.y=V.y,A.wijAnimate(J,C.duration,C.easing,function(){st&&st.show()})):(A=X._text.call(X,V.x,V.y,Y),A.wijAttr(J)):(A=X._text.call(X,V.x,V.y,Y),A.wijAttr(J)),et==="outside"&&(rt=ft%i,it=A.wijGetBBox(),rt>=90&&rt<=270?A.transform(Raphael.format("T{0},{1}",-it.width/2,0)):A.transform(Raphael.format("T{0},{1}",it.width/2,0)),st=a.path(Raphael.format("M{0} {1}L{2} {3}",K.x,K.y,V.x,V.y)).attr(tt),ot&&st.hide(),A.connector=st),$.wijraphael.addClass($(A.node),Raphael.format("{0} {1} {2}",P.canvasObject,P.pieElement,P.pieLabel)),$(A.node).data("wijchartDataObj",t),U.push(A),R.push(A),I[e]=A.attr()),z.push({label:R[e],sector:L}),t.visible===!1&&(L.hide(),R[e]&&R[e].hide(),st&&st.hide(),L.shadow&&L.shadow.hide(),Q.hide()),F[e]=L.attr(),q.push(L),U.push(L),t.style=r,t.hoverStyle=h[e],t.index=e,t.value=t.data,t.y=t.data,t.total=_,t.type="pie",D=at}),R&&R.length&&$.each(R,function(e,t){t.toFront()}),A.sectors=q,H&&(A["sectors"+H]=q,A["labels"+H]=R),A.labels=R,L.chartElements||(L.chartElements={}),W.toFront(),$.extend(!0,L.chartElements,A),L.aniSectorAttrs=F,L.aniLabelAttrs=I,L.seriesEles=z,L.trackers=W,t.data("fields",L),this.unbindLiveEvents(),this.bindLiveEvents()},e.prototype.bindLiveEvents=function(){var e=this.options,t=e.widget._isTouchEnabled(),n=e.isTouchBehaviorEnable,r=this.element,i=e.tooltip,s={x:0,y:0},o="",u="",a=$.isFunction,f=e.disabled,l=e.animation;t&&(o="wij"),n&&(u="wij"),i&&i.setTargets(this.tooltipTars),r.on(o+"mousedown."+e.widgetName,"."+e.wijCSS.pieElement,function(t){if(f)return;var n=e.mouseDown,i=$(t.target),s;i.data("owner")&&(i=i.data("owner")),s=i.data("wijchartDataObj");if(!s)return;a(n)&&n.call(r,t,s)}).on(o+"mouseup."+e.widgetName,"."+e.wijCSS.pieElement,function(t){if(f)return;var n=e.mouseUp,i=$(t.target),s;i.data("owner")&&(i=i.data("owner")),s=i.data("wijchartDataObj");if(!s)return;a(n)&&n.call(r,t,s)}).on(u+"mouseover."+e.widgetName,"."+e.wijCSS.pieElement,function(t){if(f)return;var i=e.mouseOver,o=$(t.target),u=l&&l.enabled,c,h,p,d,v,m,g;o.data("owner")&&(o=o.data("owner")),c=o.data("wijchartDataObj");if(!c)return;h=c.pieID||"",p=c.index,d=r.data("fields").chartElements["sectors"+h][p],v=d.showAnimationTimer,m=d.hideAnimationTimer,g=d.explodeAnimationShowing,a(i)&&i.call(r,t,c);if(n)return;if(d.removed)return;d.wijAttr(c.hoverStyle);if(u){m&&(window.clearTimeout(m),m=null,d.hideAnimationTimer=m),v&&(window.clearTimeout(v),v=null,d.showAnimationTimer=null);if(g)return;v=window.setTimeout(function(){var e=l.duration,t=l.easing;if(d.removed)return;s=d.getOffset(l.offset||10),d.offset=s,d.shadow&&!d.shadow.removed&&d.shadow.hide(),d.wijAnimate({transform:Raphael.format("t{0},{1}",s.x,s.y)},e,t),d.tracker&&!d.tracker.removed&&d.tracker.wijAnimate({transform:Raphael.format("t{0},{1}",s.x,s.y)},e,t),g=!0,d.explodeAnimationShowing=g},150),d.showAnimationTimer=v}}).on(u+"mouseout."+e.widgetName,"."+e.wijCSS.pieElement,function(t){if(f)return;var i=e.mouseOut,o=$(t.target),u=l&&l.enabled,c,h,p,d,v,m,g;o.data("owner")&&(o=o.data("owner")),c=o.data("wijchartDataObj");if(!c)return;h=c.pieID||"",p=c.index,d=r.data("fields").chartElements["sectors"+h][p],v=d.showAnimationTimer,m=d.hideAnimationTimer,g=d.explodeAnimationShowing,a(i)&&i.call(r,t,c);if(n)return;if(d.removed)return;c.style.segment&&delete c.style.segment,d.wijAttr(c.style);if(u){m&&(window.clearTimeout(m),m=null,d.hideAnimationTimer=m),v&&(window.clearTimeout(v),v=null,d.showAnimationTimer=v);if(!g)return;m=window.setTimeout(function(){var e=l.duration,t=l.easing;s=d.offset,d.shadow&&!d.shadow.removed&&d.shadow.show(),d.removed||d.wijAnimate({transform:"t0,0"},e,t),d.tracker&&!d.tracker.removed&&d.tracker.wijAnimate({transform:"t0,0"},e,t),d.shadow&&!d.shadow.removed&&d.shadow.wijAnimate({transform:"t0,0"},e,t),s={x:0,y:0},g=!1,d.explodeAnimationShowing=g},150),d.hideAnimationTimer=m}}).on(o+"mousemove."+e.widgetName,"."+e.wijCSS.pieElement,function(t){if(f)return;var n=e.mouseMove,i=$(t.target),s;i.data("owner")&&(i=i.data("owner")),s=i.data("wijchartDataObj");if(!s)return;a(n)&&n.call(r,t,s)}).on(o+"click."+e.widgetName,"."+e.wijCSS.pieElement,function(t){if(f)return;if(window.navigator.userAgent.match(/iPhone|iPad|iPod/i)&&n&&!$.wijraphael.hasClass(t.target,e.wijCSS.pieTracker))return;var i=e.click,s=$(t.target),o;s.data("owner")&&(s=s.data("owner")),o=s.data("wijchartDataObj");if(!o)return;a(i)&&i.call(r,t,o)})},e.prototype.unbindLiveEvents=function(){var e=this.element,t=this.options;e.off("."+t.widgetName,"."+t.wijCSS.pieElement)},e}();n.PieChartRender=f})(t.chart||(t.chart={}));var n=t.chart})(wijmo||(wijmo={}))});