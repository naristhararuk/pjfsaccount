var wijmo;define(["./wijmo.widget"],function(){var e=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};(function(t){(function(n){var r=jQuery,i="wijradio",s="wijmo-wijradio",o=0,u=function(t){function n(){t.apply(this,arguments)}return e(n,t),n.prototype._create=function(){var e=this,n=e.element,i=e.options.wijCSS,u,a,f,l,c,h;window.wijmoApplyWijTouchUtilEvents&&(r=window.wijmoApplyWijTouchUtilEvents(r)),n.is(":radio")&&(n.attr("id")||(n.attr("id",s+o),o+=1),n.parent().is("label")?(a=n.parent().wrap(r("<div></div>").addClass(i.wijradioInputwrapper)).parent().wrap("<div></div>").parent().addClass(i.wijradio).addClass(i.widget),f=n.parent(),f.attr("for",n.attr("id")),a.find("."+i.wijradioInputwrapper).append(n),a.append(f)):a=n.wrap(r("<div></div>").addClass(i.wijradioInputwrapper)).parent().wrap("<div></div>").parent().addClass(i.wijradio).addClass(i.widget),l=r("label[for='"+n.attr("id")+"']"),l.length>0&&(a.append(l),l.attr("labelsign","wij")),(n.is(":disabled")||e._isDisabled())&&e._setOption("disabled",!0),c=r("<div></div>").addClass(i.wijradioBox).addClass(i.widget).addClass(i.stateDefault).addClass(i.cornerAll).append(r("<span></span>").addClass(i.wijradioIcon)),h=c.children("."+i.wijradioIcon),a.append(c),h.addClass(i.icon).addClass(i.iconRadioOn),n.data("iconElement",h),n.data("boxElement",c),n.data("radiobuttonElement",a),c.removeClass(i.wijradioRelative).attr("role","radio").bind("mouseover",function(){n.mouseover(null)}).bind("mouseout",function(){n.mouseout(null)}),(l.length===0||l.html()==="")&&c.addClass(i.wijradioRelative),e._setDefaul(),n.bind("click.radio",function(){if(e._isDisabled())return;u=e.options.checked,e._refresh(),u!==e.element.is(":checked")&&e._trigger("changed",null,{checked:e.options.checked})}).bind("focus.radio",function(){if(e._isDisabled())return;c.addClass(i.stateFocus)}).bind("blur.radio",function(){if(e._isDisabled())return;c.removeClass(i.stateFocus)}),a.click(function(){if(e._isDisabled())return;if(l.length===0||l.html()==="")u=e.options.checked,n.prop("checked",!0),e._refresh(),n.change(),u!==e.element.is(":checked")&&e._trigger("changed",null,{checked:e.options.checked})}),a.bind("mouseover.radio",function(){if(e._isDisabled())return;c.addClass(i.stateHover)}).bind("mouseout.radio",function(){if(e._isDisabled())return;c.removeClass(i.stateHover)}),a.attr("title",n.attr("title"))),t.prototype._create.call(this)},n.prototype._setOption=function(e,n){var r=this,i=r.options.wijCSS,s=r.options.checked;t.prototype._setOption.call(this,e,n),e==="checked"?(r.element.prop("checked",n),n?r._refresh():r._uncheckRadio(r.element),s!==n&&r._trigger("changed",null,{checked:n})):e==="disabled"&&r.element.closest("."+i.widget).toggleClass(i.stateDisabled,r._isDisabled())},n.prototype._setDefaul=function(){var e=this,t=e.options;t.checked!==undefined&&t.checked!==null&&this.element.prop("checked",t.checked),this.element.prop("checked")&&(this.element.parents("."+t.wijCSS.wijradio).find("."+t.wijCSS.wijradioBox).children().removeClass(t.wijCSS.iconRadioOn).addClass(t.wijCSS.iconRadioOff),this.element.data("boxElement").addClass(t.wijCSS.stateActive).attr("aria-checked",!0),this.element.data("radiobuttonElement").addClass(t.wijCSS.stateChecked))},n.prototype._uncheckRadio=function(e){var t=this,n=t.options.wijCSS,r;e.parents("."+n.wijradio).find("."+n.wijradioBox).children().removeClass(n.iconRadioOff).addClass(n.iconRadioOn),e.parents("."+n.wijradio).find("."+n.wijradioBox).removeClass(n.stateActive).attr("aria-checked",!1),e.parents("."+n.wijradio).removeClass(n.stateChecked),r=e.parents("."+n.wijradio).find(":radio"),r.wijradio("option","checked")&&r[0]!==t.element[0]&&r.wijradio("setCheckedOption",!1)},n.prototype._refresh=function(){var e=this,t=e.element.attr("name")||"",n=e.options.wijCSS;if(t==="")return;r("[name='"+t+"']").each(function(t,n){return e._uncheckRadio(r(n)),this}),e.element.is(":checked")&&(e.element.data("iconElement").removeClass(n.iconRadioOn).addClass(n.iconRadioOff),e.element.data("boxElement").addClass(n.stateActive).attr("aria-checked",!0),e.element.data("radiobuttonElement").addClass(n.stateChecked)),e.options.checked=e.element.is(":checked")},n.prototype.setCheckedOption=function(e){var t=this,n=t.options;n.checked!==null&&n.checked!==e&&(n.checked=e,t._trigger("changed",null,{checked:e}))},n.prototype.refresh=function(){this._refresh()},n.prototype.destroy=function(){var e=this,n=e.element.parent().parent();n.children("div."+e.options.wijCSS.wijradioBox).remove(),e.element.unwrap(),e.element.unwrap(),t.prototype.destroy.call(this)},n}(t.wijmoWidget);n.wijradio=u;var a=function(){function e(){this.initSelector=":jqmData(role='wijradio')",this.wijCSS={wijradio:"wijmo-wijradio",wijradioBox:"wijmo-wijradio-box",wijradioIcon:"wijmo-wijradio-icon",wijradioInputwrapper:"wijmo-wijradio-inputwrapper",wijradioRelative:"wijmo-wijradio-relative"},this.checked=null,this.changed=null}return e}();u.prototype.options=r.extend(!0,{},t.wijmoWidget.prototype.options,new a),r.wijmo.registerWidget(i,u.prototype)})(t.radio||(t.radio={}));var n=t.radio})(wijmo||(wijmo={}))});